!function(t){function e(n){if(i[n])return i[n].exports;var o=i[n]={exports:{},id:n,loaded:!1};return t[n].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var i={};return e.m=t,e.c=i,e.p="",e(0)}([function(module,exports,__webpack_require__){function Search(){var t=$SearchCate.find(".active").data("url"),e=$SoSearch.val();if(e.length>0)if(e=e.trim().replace(/(http:\/\/)|(https:\/\/)/g,"").split("/")[0])if(t.indexOf("#u_k#")>-1)/([a-z0-9-]+\.[a-z]{2,6}(\.[a-z]{2})?(\:[0-9]{2,6})?)$/i.test(e)?window.location.href=t.replace("#u_k#",e):window.location.href="/seo/words/"+encodeURI(e);else if(t.indexOf("#u#")>-1)/([a-z0-9-]+\.[a-z]{2,6}(\.[a-z]{2})?(\:[0-9]{2,6})?)$/i.test(e)?window.location.href=t.replace("#u#",e):($$.alert("请输入正确的网址！"),$SoSearch.focus());else if(t.indexOf("#u_waci#")>-1)/([a-z0-9-]+\.[a-z]{2,6}(\.[a-z]{2})?(\:[0-9]{2,6})?)$/i.test(e)?($Base.Store("search_site").add({value:e}),window.location.href=t.replace("#u_waci#",e)):($$.alert("请输入正确的网址！"),$SoSearch.focus());else if(t.indexOf("#k_waci#")>-1){if(1==e.length)return $$.alert("搜索的关键词长度必须大于1个汉字");$Base.Store("search_word").add({value:e}),window.location.href=t.replace("#k_waci#",encodeURI(e))}else if(t.indexOf("#r_waci#")>-1){if(1==e.length)return $$.alert("搜索的关键词长度必须大于1个汉字");$Base.Store("search_related").add({value:e}),window.location.href=t.replace("#r_waci#",encodeURI(e))}else if(t.indexOf("#t_waci#")>-1){if(1==e.length)return $$.alert("搜索的关键词长度必须大于1个汉字");$Base.Store("xiongzhang_search").add({value:e}),window.location.href=t.replace("#t_waci#",encodeURI(e))}else window.location.href=t.replace("#k#",encodeURI(e));else $SoSearch.focus();else $SoSearch.focus()}function cikuSearch(){var t=$("#keywordMonitorSearch").val().trim(),e=$(".keyword-name").attr("data-tradeId");return t?e?void(window.location.href="/ciku/detail/"+e+"/"+window.encodeURIComponent(t)):void $$.alert("请先选择所属行业词库！"):void $$.alert("请输入关键词")}function expSearch(){var t=$("#expSearch").val().trim();window.location.href="/seo/findwords?words="+t}__webpack_require__(12);var $Base=__webpack_require__(11),store=__webpack_require__(28),Chart=__webpack_require__(34),$window=$(window).scrollTop(0),$navs=$("#fp-nav"),$header=$("._5118-header"),navsLength=$navs.find("li").length,currBtnIndex=0,isNavClick=!1;$navs.find("a").on("click",function(){$navs.find(".active").removeClass("active"),isNavClick=!0,document.getElementById("page-"+$(this).addClass("active").data("index")).scrollIntoView(),setTimeout(function(){isNavClick=!1},200)}),$Base.ViewModelExtend({data:{searchSite:[],searchKeyword:[],searchKeywordWaci:[],searchCiku:[],apikf5list:[],apitoutiaolist:[],expWaci:[],WaciWord:[],WaciSite:[],WaciRelated:[],traffic:[],hitListId:"141"},view:{needCode:!1},progress:{baidupc:0,baidumobile:0,s360:0,baidudate:"",baidumobiledate:"",s360date:""}});var $process=$(".ul-progress"),$progress1=$(".baidupc-progress"),$progress2=$(".baidumobile-progress"),$progress3=$(".s360-progress");window.$$=new Vue({el:"#app",data:$$vm,mixins:[$Base.SiteMixin],events:{onLoad:function(){load()}},ready:function(){var t=this;Fn.http().fetch(window.SubDomain.async+"/api/CollectTask_GetProgress").then(function(e){function i(t){return t=t.replace("/Date(","").replace(")/",""),Fn.date(parseInt(t,10)).format("yyyy-MM-dd HH:mm")}e.result.length&&e.result.forEach(function(e){"baidu_pc"==e.Name?(t.progress.baidupc=e.FinishedRate,t.progress.baidudate=i(e.NextUpdateTime)):"baidu_mobile"==e.Name?(t.progress.baidumobile=e.FinishedRate,t.progress.baidumobiledate=i(e.NextUpdateTime)):"haosou"==e.Name&&(t.progress.s360=e.FinishedRate,t.progress.s360date=i(e.NextUpdateTime))})})},methods:{hitCate:function(t){this.data.hitListId=t},decode:function(t){return encodeURIComponent(t)}}});var timer;$(window).on("scroll",function(){isNavClick||(timer&&clearTimeout(timer),timer=setTimeout(function(){var t=$window.scrollTop();t>89?$header.addClass("fix"):$header.removeClass("fix");var e=~~(t/550);e!=currBtnIndex&&e>=0&&navsLength>e&&(currBtnIndex=e,$navs.find(".active").removeClass("active"),$navs.find("a").eq(currBtnIndex).addClass("active"))},100))}),$(document).ready(function(){$(".act-banner .close-btn").on("click",function(){$(this).parent(".act-banner").hide()})});var $SearchCate=$(".search-cate"),$SearchBox=$(".search-box"),$SoSearch=$("#so-search"),$btnSearch=$("#btn-search"),supportPlaceholder="placeholder"in document.createElement("input"),placeholderit=function(t){var e=t.attr("placeholder"),i=t.defaultValue;i||t.val(e).addClass("phcolor"),t.focus(function(){t.val()==e&&$(this).val("")}),t.blur(function(){""==t.val()&&$(this).val(e).addClass("phcolor")}),t.keydown(function(){$(this).removeClass("phcolor")})};$(".j-ciku-picker").on("click",function(){$(".search-box.default-search-box").hide(),$(".search-box.ciku-search-box").show()}),$SearchCate.on("click","li",function(){$(".search-box.default-search-box").show(),$(".search-box.ciku-search-box").hide(),$(".search-box").find(".histroy").removeClass("show"),$(this).parent("ul").find("li").removeClass("active"),$(this).addClass("active");var t=$(this).data("placeholder");if($SoSearch.attr("placeholder",t),$SoSearch.val(""),!supportPlaceholder){$(this).data("placeholder");"text"==$SoSearch.attr("type")&&placeholderit($SoSearch)}}),$SearchCate.on("click",".j-ciku-picker",function(){$(".search-box.default-search-box").hide(),$(".search-box.exp-search-box").hide(),$(".search-box.ciku-search-box").show()}),$SearchCate.on("click",".j-exp-picker",function(){$(".search-box.default-search-box").hide(),$(".search-box.ciku-search-box").hide(),$(".search-box.exp-search-box").show()}),$btnSearch.unbind().click(function(){Search()}),$SoSearch.unbind().keydown(function(t){var e=t.which;13==e&&(t.preventDefault(),Search())}),$(".search-wrap").find("input").on("focus",function(){var t=$(this).attr("placeholder");t.indexOf("输入关键词进行挖掘")>-1?$(".search-box").find(".histroy").removeClass("show").end().find(".waci-word").addClass("show"):t.indexOf("输入多个关键词")>-1?$(".search-box").find(".histroy").removeClass("show").end().find(".exp").addClass("show"):t.indexOf("输入网站查询关键词")>-1?$(".search-box").find(".histroy").removeClass("show").end().find(".waci-site").addClass("show"):t.indexOf("输入关键词挖掘相关词")>-1?$(".search-box").find(".histroy").removeClass("show").end().find(".waci-related").addClass("show"):t.indexOf("输入关键词")>-1?$(".search-box").find(".histroy").removeClass("show").end().find(".keyword").addClass("show"):t.indexOf("请输入您想要深挖的流量词")>-1?$(".search-box").find(".histroy").removeClass("show").end().find(".waci-traffic").addClass("show"):$(".search-box").find(".histroy").removeClass("show").end().find(".site").addClass("show")}).on("blur",function(){});var closeCikuList=function(){$(".ciku-search-box .keyword-list").hide(),$(".keyword-name").removeClass("shadow"),$(".keyword-name i").removeClass("closeit")};$(".ciku-search-box .search-wrap").find("input").on("focus",function(){$(".search-box").find(".histroy").removeClass("show").end().find(".ciku").addClass("show"),closeCikuList()}).on("blur",function(){setTimeout(function(){$(".search-box").find(".histroy").removeClass("show")},200)}),$(document).on("mousedown",function(){$(".search-box").find(".histroy").removeClass("show")}).on("mousedown",".search-wrap,.histroy",function(t){t.stopPropagation()});var $histroy=$(".histroy");$histroy.on("click","li>a",function(){var t=$(this).text().replace(/ /gi,"");$(this).parents(".search-box").find("input").val(t),Search(),$(".search-box").find(".histroy").removeClass("show")}),$histroy.on("click","li .mark",function(){$(this).toggleClass("on");var t=$(this).data("type"),e=$(this).parents("li").index(),i=JSON.parse(store.get(t)||"[]"),n=i[e];switch(1==i[e].label?(i[e].label=0,i.splice(e,1),i.push(n)):(i[e].label=1,i.splice(e,1),i.unshift(n)),t){case"welcome_SearchSitenew":$$vm.data.searchSite=i;break;case"search_site":$$vm.data.WaciSite=i;break;case"search_word":$$vm.data.WaciWord=i;break;case"search_related":$$vm.data.WaciRelated=i;break;case"search_traffic":$$vm.data.traffic=i;break;default:console.log("default")}store.set(t,JSON.stringify(i))}),$histroy.on("click","li .delete",function(){$(this).toggleClass("on");var t=$(this).data("type"),e=$(this).parents("li").index(),i=JSON.parse(store.get(t)||"[]");i.splice(e,1);for(var n=0;n<i.length;n++)i[n].value=decodeURI(i[n].value);switch(t){case"welcome_SearchSitenew":$$vm.data.searchSite=i;break;case"search_site":$$vm.data.WaciSite=i;break;case"search_word":$$vm.data.WaciWord=i;break;case"search_related":$$vm.data.WaciRelated=i;break;case"search_traffic":$$vm.data.traffic=i;break;default:console.log("default")}store.set(t,JSON.stringify(i))});var $CikuHistory=$(".ciku-history");$CikuHistory.on("click","li",function(){var t=$(this).find("a").text().replace(/ /gi,"");$(this).parents(".search-box").find("input").val(t),cikuSearch(),$(".search-box").find(".histroy").removeClass("show")});var $expwaciHistory=$(".exp-histroy");$expwaciHistory.on("click","li",function(){var t=$(this).find("a").text().replace(/ /gi,"");$(this).parents(".search-box").find("input").val(t),expSearch(),$(".search-box").find(".exp-histroy").removeClass("show")}),$(".search-wrap").find("input").on("keydown",function(){""!=$(this).val()&&$(".search-wrap").find(".icon-close").show(),$(".search-wrap").find(".icon-close").on("click",function(){$(".search-wrap").find("input").val(""),$(this).hide()})}),$(".bigdata-wrap").on("click","#btn-upgrade-b",function(){if(Site_INFO.IsRedirect)return void $$.alert("当前未登录，请登录后操作！",function(){window.location.href=Site_INFO.IsRedirect});$("._5118-header").addClass("show");var t=__webpack_require__(15);new t({data:{showflag:"default"}}).$mount().$after("#app")});var _payUpgrade=function(){if($("._5118-header").addClass("show"),Site_INFO.IsRedirect)return void $$.alert("当前未登录，请登录后操作！",function(){window.location.href=Site_INFO.IsRedirect});var t=__webpack_require__(16);new t({}).$mount().$after("#app")};$("#btn-up-vip").on("click",function(){_payUpgrade()});var load=function(){$$vm.data.searchSite=JSON.parse(store.get("welcome_SearchSitenew")||"[]"),$$vm.data.searchKeywordWaci=JSON.parse(store.get("waci_SearchKeywordnew")||"[]"),$$vm.data.searchKeyword=JSON.parse(store.get("waci_SearchKeywordnew")||"[]"),$$vm.data.searchCiku=JSON.parse(store.get("ciku_SearchKeyword")||"[]"),$$vm.data.expWaci=JSON.parse(store.get("Exp_Waci")||"[]"),$$vm.data.WaciWord=$Base.Store("search_word").get(),$$vm.data.WaciSite=$Base.Store("search_site").get(),$$vm.data.WaciRelated=$Base.Store("search_related").get(),$$vm.data.traffic=$Base.Store("xiongzhang_search").get(),["search_word","search_related"].forEach(function(t){var e=JSON.parse(store.get(t)||"[]");e.forEach(function(t){/[\u4e00-\u9fa5]+/.test(t.value)&&(t.value=encodeURIComponent(t.value))});var i={};e.forEach(function(t,n){i[t.value]?e.splice(1,n):i[t.value]=1}),store.set(t,JSON.stringify(e))})}(),bindChart={baiduWare:function(){var t,e=$(".chart-baiduwave"),i=Site_INFO.ChartData.baiduWave;if(e.length){if(e.removeClass("chart-loading chart-none"),$.isEmptyObject(i)||!i.date)return e.addClass("chart-none"),void Fn.exec(e.highcharts(),function(t){t.destroy()});var n={chart:{type:"area",zoomType:"x"},tooltip:{headerFormat:"<span>日期:{point.key}</span><br>"},legend:{},xAxis:{},yAxis:{tickAmount:6,labels:{formatter:function(){return this.value+"%"}},endOnTick:!1,startOnTick:!0,min:Math.min.apply(Math,i.result),max:Math.max.apply(Math,i.result)},tooltip:{pointFormat:"比例：{point.y}%"},series:[]};t=i.result.length;for(var o=Fn.date(i.date),a=[o.format("MM/dd")],s=1;t>s;s++)a.push(o.add("dd",-1).format("MM/dd"));var r=a.reverse(),c=i.result.reverse();n.xAxis.categories=r,n.series=[{name:"比例",data:c,color:"#4D9AE8",fillOpacity:"0.1"}],new Chart(e,n)}},baiduOwn:function(){var t,e={chart:{type:"area",zoomType:"x",style:{overflow:"visible"}},tooltip:{headerFormat:"<span>日期:{point.key}</span><br>"},legend:{enabled:!1,align:"right",verticalAlign:"top",y:-30},xAxis:{},yAxis:{tickAmount:11,labels:{formatter:function(){return this.value+"%"}},endOnTick:!1,startOnTick:!1,min:0,max:100},series:[]},i=$(".chart-baiduown"),n=Site_INFO.ChartData.baiduOwn;if(e.tooltip.valueSuffix="%",e.yAxis.labels.formatter=function(){return this.value+"%"},i.length){if(i.removeClass("chart-loading chart-none"),$.isEmptyObject(n)||!n.date)return i.addClass("chart-none"),void Fn.exec(i.highcharts(),function(t){t.destroy()});t=n.result.ZhanZhang.length;for(var o=Fn.date(n.date),a=[o.format("MM/dd")],s=1;t>s;s++)a.push(o.add("dd",-1).format("MM/dd"));e.legend.enabled=!0,e.xAxis.categories=a.reverse(),e.series.push({name:"中小站长排名",data:n.result.ZhanZhang.reverse(),color:"#FFB85C",fillOpacity:"0.1"}),e.series.push({name:"百度自有排名",data:n.result.Baidu.reverse(),color:"#4D9AE8",fillOpacity:"0.1"}),new Chart(i,e)}},trendChart:function(){$(".trend-chart").each(function(){Fn.http().error(function(t){console.error("获取图表数据失败")}.bind(this)).fetch(window.SubDomain.async+"/radar/GetChartData",{data:{wordId:$(this).data("id")}}).then(function(t){if("string"==typeof t&&(t=JSON.parse(t)),t.length){t=t[0];var e=$(this).removeClass("chart-loading");if(1==t.value.length&&-1==t.value[0])return void e.addClass("chart-none");var i={chart:{type:"areaspline",margin:[0,0,40,0]},tooltip:{headerFormat:"<span>日期：{point.key}</span><br>"},xAxis:{labels:{enabled:!0},tickAmount:4,categories:t.dates},yAxis:{labels:{enabled:!1}},series:[{name:"指数",color:"#F95963",fillOpacity:"0.1",data:t.value}]};new Chart(e,i)}}.bind(this))})}};setTimeout(function(){bindChart.baiduWare(),bindChart.baiduOwn(),bindChart.trendChart()},1),$(document).ready(function(){function HomeRadar(){$("#my_favorite_latin_words").html(""),$("#j-home-radarRotate").addClass("rotate"),Fn.http().error(function(){HomeRadar()}).fetch(window.SubDomain.async+"/api/Word_GetRandom").then(function(data){if(data){data=data.result.split(",");for(var string_="",i=0;i<data.length;i++){var string_f=data[i];string_+="{text: '"+string_f+"',link:'/radar?keyword="+string_f+"',html: {'class': 'span_list'}},"}var string_list=string_,word_list=eval("["+string_list+"]");$("#my_favorite_latin_words").jQCloud(word_list,{width:320,height:320}).hide().fadeIn(1500),setTimeout(function(){$("#j-home-radarRotate").removeClass("rotate")},1500),setTimeout(function(){HomeRadar()},3e4)}})}var mySwiper=new Swiper(".swiper-container-big",{direction:"vertical",loop:!0,autoplay:3e3}),_isVip=1==$("#j-home-radarRotate").data("link");HomeRadar();var $selectButton=$(".ciku-search-box .left-wrap"),$keywordList=$(".ciku-search-box .keyword-list");$selectButton.on("click",".keyword-name",function(t){t.stopPropagation(),$keywordList.toggle(),$(".keyword-name").toggleClass("shadow"),$(".keyword-name i").toggleClass("closeit")}),$(".keyword-list li").on("click",function(){var t=$(this).text(),e=$(this).attr("data-tradeId");$(".keyword-name").attr("data-tradeId",e),$(".keyword-name span").text(t),$keywordList.hide(),$(".keyword-name").removeClass("shadow"),$(".keyword-name i").removeClass("closeit")});var popRequest;$(".kw-trend-list .link").hover(function(){var t=$(this).find(".dialog");t.find(".item").length?t.show():(t.find(".chart-loading").remove(),t.show().append('<div style="height:30px;" class="chart-loading"></div>'),Fn.http().request(function(t){popRequest=t}).fetch("/radar/GetUserSearch",{data:{word:t.data("word"),point:t.data("point")}}).then(function(e){popRequest=null,"string"==typeof e&&(e=JSON.parse(e));var i=[];e.forEach(function(t){i.push('<section><div class="item"><span class="point"></span><a title="'+t+'" target="_blank" href="https://www.baidu.com/s?wd='+encodeURIComponent(t)+'">'+t+'</a></div><div style="float:right;margin-top:6px;"><a href="/traffic/dig/'+t+'" target="_blank" style=" width: 58px;display:inline-block;height: 20px;line-height: 20px;font-size: 12px;text-align:center;color: #fff;border-radius: 10px;background: #1971f9;">查流量词</a></div></section>')}),t.find(".chart-loading").remove(),t.append(i.join(""))})["catch"](function(){}))},function(){popRequest&&popRequest.abort(),$(this).find(".dialog").hide()})}),$("div").on("click",function(){closeCikuList()}),$("#j-search-from").submit(function(){var t=$(this).find("#keywordMonitorSearch").val().trim(),e=$(".keyword-name").attr("data-tradeId");return t?e?void(window.location.href="/ciku/detail/"+e+"/"+window.encodeURIComponent(t)):void $$.alert("请先选择所属行业词库！"):void $$.alert("请输入关键词")}),$("#j-exp-search-from").submit(function(){var t=$("#expSearch").val().trim();window.location.href="/seo/findwords?words="+t})},function(t,e,i){i(2);var n=Fn.define({init:function(){var t=this;this._fetch=function(t){return this._fetch[Fn.http.requestType](t)},this._fetch.ajax=function(e){return new Promise(function(i,n){e.error=function(e,i,o){t._error&&t._error.call(t,arguments),n(arguments)},e.success=function(t){i(t)},e.complete=function(e,i){e=null,t._complete&&t._complete.call(t)};var o=$.ajax(e);t._request&&t._request(o)})},this._fetch.websocket=function(){}},start:function(t){return t.call(this),this},error:function(t){return this._error=t,this},request:function(t){return this._request=t,this},complete:function(t){return this._complete=t,this},fetch:function(t,e){return t||new Error("url is null"),this._fetch($.extend({type:"POST",cache:!1,dataType:"json"},e||{},{url:t}))},post:function(t,e,i){return new Promise(function(n){$.post(t,e,function(t){n(t)},i||"json")})},get:function(t,e,i){return new Promise(function(n){$.get(t,e,function(t){n(t)},i||"json")})}});Fn.http=function(){return new n},Fn.http.requestType="ajax",t.exports=Fn.http},function(t,e,i){(function(e){Function.prototype.bind||(Function.prototype.bind=function(t){"use strict";var e=this,i=arguments;return function(){e.apply(t,Array.prototype.slice.call(i,1))}});var n={version:"1.0.0",author:"Rindy"};"undefined"==typeof Promise&&(window.Promise=i(3)),n.exec=function(t,e){t&&e&&e.call(t,t)},n.define=function(){"use strict";var t=function(t){var e=function(){this.__$init&&("function"==typeof this.__$init?this.__$init.apply(this,arguments):this.__$init[0].apply(this,arguments))};return e.prototype=t,e.prototype.init&&(e.prototype.__$init=e.prototype.init,delete e.prototype.init),e.extend=function(t){var e,i=this,n=function(){if("function"==typeof this.__$init)this.__$init.apply(this,arguments);else for(var t=this.__$init||[],e=0;e<t.length;e++)t[e].apply(this,arguments)};for(e in i)i.hasOwnProperty(e)&&(n[e]=i[e]);var o=function(){this.constructor=n};o.prototype=i.prototype,n.prototype=new o;for(e in t)t.hasOwnProperty(e)&&("init"===e?n.prototype.__$init=[].concat(n.prototype.__$init||[],t.init):n.prototype[e]=t[e]);return n},e};return t}(),n.random=function(){function t(){return e=(9301*e+49297)%233280,e/233280}var e=(new Date).getTime();return function(i,n){var o=1,a=[];if(!n)return Math.ceil(t(e)*i);for(;n>=o;)a.push(Math.ceil(t(e)*i)),o++;return a.join("")}}(),n.script=function(t){return n.script._cache||(n.script._cache={}),new n.Promise(function(e,i){if(n.script._cache[t])return void e();var o=document.createElement("script");o.src=t,o.type="text/javascript",o.onload=o.onreadystatechange=function(){this.readyState&&"loaded"!=this.readyState&&"complete"!=this.readyState||(e(),n.script._cache[t]=!0,o.onload=o.onreadystatechange=null,o.parentNode.removeChild(o))},o.onerror=function(t){i(t),o.onload=o.onreadystatechange=o.onerror=null},document.body.appendChild(o)})},t.exports=e.Fn=n}).call(e,function(){return this}())},function(t,e,i){(function(e){function i(){for(var t=0;t<y.length;t++)y[t][0](y[t][1]);y=[],f=!1}function n(t,e){y.push([t,e]),f||(f=!0,x(i,0))}function o(t,e){function i(t){r(e,t)}function n(t){u(e,t)}try{t(i,n)}catch(o){n(o)}}function a(t){var e=t.owner,i=e.state_,n=e.data_,o=t[i],a=t.then;if("function"==typeof o){i=w;try{n=o(n)}catch(c){u(a,c)}}s(a,n)||(i===w&&r(a,n),i===g&&u(a,n))}function s(t,e){var i;try{if(t===e)throw new TypeError("A promises callback cannot return that same promise.");if(e&&("function"==typeof e||"object"==typeof e)){var n=e.then;if("function"==typeof n)return n.call(e,function(n){i||(i=!0,e!==n?r(t,n):c(t,n))},function(e){i||(i=!0,u(t,e))}),!0}}catch(o){return i||u(t,o),!0}return!1}function r(t,e){t!==e&&s(t,e)||c(t,e)}function c(t,e){t.state_===m&&(t.state_=v,t.data_=e,n(d,t))}function u(t,e){t.state_===m&&(t.state_=v,t.data_=e,n(p,t))}function h(t){for(var e=t.then_,i=0;i<e.length;i++)a(e[i])}function d(t){t.state_=w,h(t)}function p(t){t.state_=g,h(t)}function l(t){if("function"!=typeof t)throw new TypeError("Promise constructor takes a function argument");if(this instanceof l==!1)throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this.then_=[],o(t,this)}var f,m="pending",v="sealed",w="fulfilled",g="rejected",$=function(){},x="undefined"!=typeof e?e:setTimeout,y=[];l.prototype={constructor:l,state_:m,then_:null,data_:void 0,then:function(t,e){var i={owner:this,then:new this.constructor($),fulfilled:t,rejected:e};return this.state_===w||this.state_===g?n(a,i):this.then_.push(i),i.then},"catch":function(t){return this.then(null,t)}},l.all=function(t){var e=this;if(!Array.isArray(t))throw new TypeError("You must pass an array to Promise.all().");return new e(function(e,i){function n(t){return s++,function(i){a[t]=i,--s||e(a)}}for(var o,a=[],s=0,r=0;r<t.length;r++)o=t[r],o&&"function"==typeof o.then?o.then(n(r),i):a[r]=o;s||e(a)})},l.race=function(t){var e=this;if(!Array.isArray(t))throw new TypeError("You must pass an array to Promise.race().");return new e(function(e,i){for(var n,o=0;o<t.length;o++)n=t[o],n&&"function"==typeof n.then?n.then(e,i):e(n)})},l.resolve=function(t){var e=this;return t&&"object"==typeof t&&t.constructor===e?t:new e(function(e){e(t)})},l.reject=function(t){var e=this;return new e(function(e,i){i(t)})},t.exports=l}).call(e,i(4).setImmediate)},function(t,e,i){(function(t,n){function o(t,e){this._id=t,this._clearFn=e}var a=i(5).nextTick,s=Function.prototype.apply,r=Array.prototype.slice,c={},u=0;e.setTimeout=function(){return new o(s.call(setTimeout,window,arguments),clearTimeout)},e.setInterval=function(){return new o(s.call(setInterval,window,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(window,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout(function(){t._onTimeout&&t._onTimeout()},e))},e.setImmediate="function"==typeof t?t:function(t){var i=u++,n=arguments.length<2?!1:r.call(arguments,1);return c[i]=!0,a(function(){c[i]&&(n?t.apply(null,n):t.call(null),e.clearImmediate(i))}),i},e.clearImmediate="function"==typeof n?n:function(t){delete c[t]}}).call(e,i(4).setImmediate,i(4).clearImmediate)},function(t,e){function i(){u=!1,s.length?c=s.concat(c):h=-1,c.length&&n()}function n(){if(!u){var t=setTimeout(i);u=!0;for(var e=c.length;e;){for(s=c,c=[];++h<e;)s[h].run();h=-1,e=c.length}s=null,u=!1,clearTimeout(t)}}function o(t,e){this.fun=t,this.array=e}function a(){}var s,r=t.exports={},c=[],u=!1,h=-1;r.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)e[i-1]=arguments[i];c.push(new o(t,e)),1!==c.length||u||setTimeout(n,0)},o.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=a,r.addListener=a,r.once=a,r.off=a,r.removeListener=a,r.removeAllListeners=a,r.emit=a,r.binding=function(t){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(t){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},,,,,,function(t,e,i){i(1),i(12),i(13),i(14),i(20),i(21),i(22),i(23),i(24),i(25),i(26),i(27);var n=i(28),o=i(29),a=i(30),s=i(31),r=i(32),c=!1;Fn.trim=function(t){return"string"==typeof t?t.replace(/^\s+|\s+$/g,""):t},Fn.wait=function(t,e){Fn.wait.timer||(Fn.wait.timer=[]),Fn.wait.timer.push(setTimeout(t,e||200))},Fn.wait.dispose=function(){Fn.wait.timer&&Fn.wait.timer.forEach(function(t){clearTimeout(t)}),Fn.wait.timer=[]},Vue.config.debug=!0,Vue.mixin({events:{onPager:function(t){$$vm.pager.pageIndex=t,this.$emit("onLoad")}},ready:function(){c||(c=!0,"undefined"!=typeof Site_INFO.Lianmenglist&&Site_INFO.Lianmenglist.forEach(function(t){(window.slotbydup||[]).push({id:t.uid,container:t.id,size:"100%,100%",display:"inlay-fix"})}))},methods:{alert:function(t,e){new o({parent:$$,data:{text:t||"",func:e}}).$mount().$appendTo("#app")},warning:function(t,e){new s({parent:$$,data:{text:t||"",func:e}}).$mount().$appendTo("#app")},confirm:function(t,e,i){new r({parent:$$,data:{text:t||"",funcOk:e,funcNo:i}}).$mount().$appendTo("#app")},reject:function(t,e,i){new a({parent:$$,data:{text:t||"",funcOk:e,funcNo:i}}).$mount().$appendTo("#app")}}}),window.$$vm={loading:{show:!1,percent:0,start:function(){$("._5118-header").addClass("show"),this.show=!0,Fn.wait(function(){this.percent="98%"}.bind(this),10)},end:function(){Fn.wait(function(){this.percent="100%",Fn.wait(function(){this.show=!1,this.percent=0,Fn.wait.dispose()}.bind(this),400)}.bind(this),10)}},tags:{tid:Site_INFO.tid||0,tmp_tid:-1,text:"",edit:!1,list:"undefined"!=typeof Tags_DATA&&Tags_DATA.filter(function(t){return t.selected=!1,!0}),maxlength:200},pack:{id:0,name:"",site:"",siteid:0,list:"undefined"!=typeof Pack_DATA&&Pack_DATA.filter(function(t){return("KeywordRank"===t.SysName||"BaiduIndex"===t.SysName||"BaiduMobile"===t.SysName||"HaoSou"===t.SysName)&&(t.checked=!0,t.disabled=!0),!0})},pager:{pageIndex:Site_INFO.PageIndex,pageCount:Site_INFO.PageCount,pageSize:Site_INFO.PageSize,exportlink:function(){var t=window.location.href;return-1!==t.indexOf("?report")?(t=t.replace("?report=1",""),t+="?report=1"):-1!==t.indexOf("?")?(t=t.replace("&report=1",""),t+="&report=1"):t+="?report=1",t}()},service:{opt:!0,state:(Site_INFO.service||{}).state,allCount:(Site_INFO.service||{}).allCount,openCount:(Site_INFO.service||{}).openCount},WxTimer:{timeoutObj:null,start:function(t){$$vm.WxTimer.timeoutObj&&clearTimeout($$vm.WxTimer.timeoutObj),Fn.http().error(function(t){clearInterval($$vm.WxTimer.timeoutObj),console.log(t)}).fetch("/api/WeChatBindingSubscribe",{}).then(function(e){"0"==e?(clearInterval($$vm.WxTimer.timeoutObj),t&&t()):$$vm.WxTimer.timeoutObj=setTimeout(function(){$$vm.WxTimer.start(t)},3e3)})},end:function(){$$vm.WxTimer.timeoutObj&&clearTimeout($$vm.WxTimer.timeoutObj)}},monitor:{tagmaxdatacount:0,tagdatacount:0,tagisover:0,tagtipstype:"",sitemaxdatacount:0,isdeledtag:!1}},~function(){var t,e,i=$("._5118-header"),n=$(window),o=function(t){"mousewheel"!==t.type&&("down"===e?n.scrollTop()>60&&i.hide():i.show())};$(document).mousewheel(function(t){e=t.deltaY<0?"down":"up",o(t)}),$(window).scroll(function(i){if(t){var a=n.scrollTop();e=a-t>0?"down":"up",o(i)}t=n.scrollTop()})}(),~function(){var t=$(".backtop"),e=$("#search"),i=$(window),n=$(".backtop-wrap");if(e.length&&(e=e.eq(0))&&e.on("focus",function(){$(this).parents(".search").addClass("bright")}).on("blur",function(){$(this).parents(".search").removeClass("bright")}),n.find(".code").length){"undefined"!=typeof ZeroClipboard&&ZeroClipboard.config({swfPath:Site_INFO.cdn+"assist/public/ZeroClipboard.swf"});var o=!1;n.find(".code").hover(function(){o=!0,$(this).addClass("active"),$(this).parents(".backtop-wrap").find(".process-wrap").removeClass("active")},function(){var t=$(this);setTimeout(function(){o||t.removeClass("active")},150),o=!1}),n.find(".code-content").hover(function(){o=!0},function(){o=!1,$(this).parents(".code").removeClass("active")}),$(document).on("click",".copy-target",function(){var t=$(this);t.text("已复制"),setTimeout(function(){t.text("复制")}.bind(t),3e3)}),Fn.http().fetch("/api/InviteCode_GetList").then(function(t){if(t.result.length){var e=[],i=0;t.result.forEach(function(t,n){t.Status||i++,e.push('<div><span class="copy-value">'+t.InviteCode+'</span><a href="javascript:;" class="used" style="cursor:default">'+(1==t.Status?"已使用":"未使用")+"</a></div>")}),n.find(".body").html(e.join("")),n.find(".code").show(),i&&n.find(".code-count").show().text(i)}})}if(n.find(".user-level-wrap").length){var o=!1;n.find(".user-level-wrap").hover(function(){o=!0,$(this).addClass("active"),$(this).parents(".backtop-wrap").find(".process-wrap").removeClass("active")},function(){var t=$(this);setTimeout(function(){o||t.removeClass("active")},150),o=!1}),n.find(".user-level-content").hover(function(){o=!0},function(){o=!1,$(this).parents(".user-level-wrap").removeClass("active")})}if(n.find(".process-wrap").length){var o=!1;n.find(".process-wrap").hover(function(){o=!0,$(this).addClass("active"),$(this).parents(".backtop-wrap").find(".user-level-wrap").removeClass("active")},function(){var t=$(this);setTimeout(function(){o||t.removeClass("active")},150),o=!1}),n.find(".process-content").hover(function(){o=!0},function(){o=!1,$(this).parents(".process-wrap").removeClass("active")});var a=$(".process-wrap"),s=$(".baidupc-progress"),r=$(".baidumobile-progress"),c=$(".s360-progress");Fn.http().fetch(window.SubDomain.async+"/api/CollectTask_GetProgress").then(function(t){function e(t){return t=t.replace("/Date(","").replace(")/",""),Fn.date(parseInt(t,10)).format("yyyy-MM-dd HH:mm")}if(t.result.length){var i=t.result;a.find(".updatetime").removeClass("hide-it"),a.find(".row").removeClass("single"),$.each(i,function(t,i){if("baidu_pc"===i.Name){var n=e(i.NextUpdateTime);s.attr("value",i.FinishedRate),$(".baidupc-data").text(i.FinishedRate+"%"),s.parents("li").find(".updatetime span").text(n),100!=i.FinishedRate&&(s.parents("li").find(".updatetime").addClass("hide-it"),s.parent(".row").addClass("single"))}else if("baidu_mobile"===i.Name){var o=e(i.NextUpdateTime);r.attr("value",i.FinishedRate),$(".baidumobile-data").text(i.FinishedRate+"%"),r.parents("li").find(".updatetime span").text(o),100!=i.FinishedRate&&(r.parents("li").find(".updatetime").addClass("hide-it"),r.parent(".row").addClass("single"))}else if("haosou"===i.Name){var a=e(i.NextUpdateTime);c.attr("value",i.FinishedRate),$(".s360-data").text(i.FinishedRate+"%"),c.parents("li").find(".updatetime span").text(a),100!=i.FinishedRate&&(c.parents("li").find(".updatetime").addClass("hide-it"),c.parent(".row").addClass("single"))}})}})}if(t.length){var u=function(){var e=i.scrollTop();60>=e?t.removeClass("show"):t.addClass("show")};i.resize(function(){i.width()<=1200?n.addClass("min"):n.removeClass("min")}),i.scroll(u),t.on("click",function(){i.scrollTop(0)}),u(),window.soSubmit=function(){var t=$("#frmSo"),e=t.find(":text").val();if(e=e.trim().replace(/(http:\/\/)|(https:\/\/)/g,"").split("/")[0]){var i=window.open("_blank");/([a-z0-9-]+\.[a-z]{2,6}(\.[a-z]{2})?(\:[0-9]{2,6})?)$/i.test(e)?i.location.href=SubDomain.host+"/seo/"+e:i.location.href=SubDomain.host+"/seo/words/"+e}return!1},window.onunload=function(){delete window.Site_INFO,delete window.Fn}}}();var u=function(t){Fn.http().fetch("/api/SiteMonitor_CheckLimit",{data:{type:t||""}}).then(function(t){return 0==t.siteMaxDataCount||0==t.tagMaxDataCount?$$.warning("数据获取出现异常，请重新刷新网页。",function(){window.location.reload()}):void(t&&($$vm.monitor.tagmaxdatacount=t.tagMaxDataCount,$$vm.monitor.tagdatacount=t.tagDataCount,$$vm.monitor.tagisover=t.tagIsOver,$$vm.monitor.tagtipstype=t.tagTipsType,$$vm.monitor.sitemaxdatacount=t.siteMaxDataCount))})};t.exports={SiteMixin:{events:{onSaveTags:function(){var t=$$vm.tags.list,e=[];return t.forEach(function(t){t.edit&&e.push({TagName:t.TagName,TagID:Number(t.TagID)})}),e.length?void Fn.http().start(function(){$$vm.loading.start()}).complete(function(){$$vm.loading.end()}).fetch("/api/Tag_Batch_Operate",{data:{tagType:"Keywords"===Site_INFO.page?2:1,tags:e}}).then(function(t){if(1===t.statusCode)this.backTag();else{
if(2==t.statusCode||3==t.statusCode)return $$.backTag(),void $$.warning("标签已超出上限个数"+$$vm.monitor.tagmaxdatacount+"个。");if(4==t.statusCode)return $$.backTag(),void this.vipupgrade()}}.bind(this)):void $$.backTag()},onLoadTags:function(){Fn.http().fetch("/api/Tag_GetList",{data:{tagType:"Keywords"===Site_INFO.page?2:1,containAll:!0}}).then(function(t){$$vm.tags.list=t.result.filter(function(t){return t.selected=!1,!0}),0==$$vm.tags.tmp_tid&&$$vm.tags.list.length&&($$vm.tags.tid=$$vm.tags.list[0].TagID,this.$emit("onLoad"))}.bind(this))},onSiteUpdate:function(){this.$emit("onLoad"),this.$emit("onLoadTags")},onPackUpdate:function(){this.$emit("onLoad")},onClearSearch:function(){$$vm.data.searchText="",$$vm.data.searchValue="",this.$emit("onLoad")}},methods:{usedBy:function(t,e,i,n,o){t||($$vm.pack.id=e,$$vm.pack.name=n,$$vm.pack.site=o,$$vm.pack.siteid=i)},tagsBy:function(t){$$vm.tags.tid!=t&&("undefined"!=typeof $$vm.rank?($$vm.rank.rank="",$$vm.rank.state=Site_INFO.rankState,$$vm.rank.look=!1):"undefined"!=typeof $$vm.sort&&($$vm.sort.look=!1),"undefined"!=typeof $$vm.sort&&($$vm.sort.key="None",$$vm.sort.order="0"),$$vm.data.searchText="",$$vm.data.searchValue=""),$$vm.tags.tid=t,$$vm.pager.pageIndex=1,$$vm.service.opt=!1,this.$emit("onLoad")},searchBy:function(){$$vm.data.searchText=Fn.trim($$vm.data.searchText),$$vm.pager.pageIndex=1,$$vm.data.searchValue=$$vm.data.searchText,this.$emit("onLoad")},setsTag:function(){$$vm.tags.edit=!0,$$vm.tags.tmp_tid=$$vm.tags.tid,$$vm.tags.tid=0,setTimeout(function(){$("#txtNewTag").focus()},100)},gainTag:function(){var t=$$vm.tags.list.filter(function(t){return t.TagID<0}).length,e=Fn.trim($$vm.tags.text);return e?$$vm.tags.list.some(function(t){return t.TagName===e})?void $$.warning("该标签名称已存在",function(){$("#txtNewTag").focus()}):1==$$vm.monitor.tagisover&&0==t?void $$.warning("标签已超出上限个数"+$$vm.monitor.tagmaxdatacount+"个。",function(){$("#txtNewTag").focus()}):$$vm.tags.list.length-1-t+1>$$vm.monitor.tagmaxdatacount?"upgrade"==$$vm.monitor.tagtipstype?void this.vipupgrade():void $$.warning("标签已超出上限个数"+$$vm.monitor.tagmaxdatacount+"个。",function(){$("#txtNewTag").focus()}):($$vm.tags.list.push({edit:!0,selected:!1,TagID:null,TagName:e,DataCount:0}),void($$vm.tags.text="")):($$vm.tags.text="",void $$.warning("请输入标签名称",function(){$("#txtNewTag").focus()}))},editTag:function(t){$$vm.tags.list[t].edit=!0},deleTag:function(t,e){null===e?$$vm.tags.list.splice(t,1):($$vm.tags.list[t].edit=!0,$$vm.tags.list[t].TagID=-e,e==$$vm.tags.tmp_tid&&($$vm.tags.tmp_tid=0))},saveTag:function(){var t=Fn.trim($$vm.tags.text);if(t){if($$vm.tags.list.some(function(e){return e.TagName===t}))return void $$.warning("该标签名称已存在",function(){$("#txtNewTag").focus()});$$vm.tags.list.push({edit:!0,selected:!1,TagID:null,TagName:t,DataCount:0}),$$vm.tags.text=""}else{var e=!0;if($$vm.tags.list.forEach(function(t){return t.edit&&($$vm.tags.list.forEach(function(i){return i.edit||t.TagName!==i.TagName?void 0:(e=!1,!1)}),!e)?!1:void 0}),!e)return void $$.warning("存在同名标签，请检查")}return $$vm.tags.list.some(function(t){return!t.TagName&&t.TagID>0})?void $$.warning("有标签内容为空，请检查"):void this.$emit("onSaveTags")},backTag:function(){$$vm.tags.text="",$$vm.tags.edit=!1;var t;$$vm.tags.list.forEach(function(e){e.edit&&(t=!0)}.bind(this)),t&&this.$emit("onLoadTags"),$$vm.tags.tid=$$vm.tags.tmp_tid},setSitePack:function(t){$$vm.pack.list[t].checked=!$$vm.pack.list[t].checked},editSite:function(t){$$vm.site.id=t,$$vm.site.edit=!0},deleSite:function(t,e){var i=this;"SEO"===Site_INFO.page?$$.confirm("是否删除该网站？",function(){Fn.http().fetch("/api/SiteMonitor_Delete",{data:{siteID:t}}).then(function(t){t.statusCode&&(i.$emit("onLoad"),i.$emit("onLoadTags"))})}):$$.confirm("是否取消监控？",function(){Fn.http().fetch("/api/UserService_Delete",{data:{siteID:t,serviceID:e}}).then(function(t){t.statusCode&&(i.$emit("onLoad"),i.$emit("onLoadTags"))})})},toggleFollow:function(t,e){Fn.http().fetch("/api/SiteMonitor_UpdateFollowStatus",{data:{siteID:t,followStatus:e?0:1}}).then(function(t){1===t.statusCode&&this.$emit("onLoad")}.bind(this))},toggleService:function(t){1===t&&0==$$vm.service.openCount||2===t&&$$vm.service.allCount-$$vm.service.openCount===0||($$vm.pager.pageIndex=1,$$vm.service.state=t,this.$emit("onLoad"))},openService:function(t,e){Fn.http().fetch("/api/ServicePack_User_StartService",{data:{spID:e,siteID:t}}).then(function(t){1==t.statusCode?this.$emit("onLoad"):2==t.statusCode||$$.warning("使用失败！")}.bind(this))},vipupgrade:function(){$("._5118-header").addClass("show");var t=i(15);new t({data:{showflag:"monitor"}}).$mount().$after("#app")}}},ViewModelExtend:function(t){$.extend(!0,$$vm,t)},IsAuth:function(){return Site_INFO.IsRedirect||"1"==Site_INFO.IsNeedCode?!1:!0},ToThousands:function(t){var e=String(t).split(".");2==e.length&&(e=String(Number(t).toFixed(2)).split("."));for(var i=e[0],n=e[1],o="";i.replace("-","").length>3;)o=","+i.slice(-3)+o,i=i.slice(0,i.length-3);return i&&(o=i+o),o+(2==e.length?"."+n:"")},Store:function(t){return{get:function(){var e=JSON.parse(n.get(t)||"[]"),i=[];return e.forEach(function(t){for(var e in t)t[e]=decodeURIComponent(t[e]);i.push(t)}),i},add:function(e,i,o){"undefined"==typeof i&&(i="value"),"undefined"==typeof o&&(o=8);for(var a in e)e[a]=encodeURIComponent(e[a]);var s=JSON.parse(n.get(t)||"[]");return s.some(function(t){return t[i]==e[i]})?this.top(e[i],i,!0):(s.unshift(e),o&&s.length>o&&s.pop(),n.set(t,JSON.stringify(s)),this)},top:function(e,i,o){if(!i)throw new Error("base.store.top.name is null");o||(e=encodeURIComponent(e));for(var a=JSON.parse(n.get(t)||"[]"),s=0;s<a.length;s++)if(a[s][i]==e){a.unshift(a.splice(s,1)[0]);break}return n.set(t,JSON.stringify(a)),this}}},GetLimit:u},$(document).ready(function(){$(".backtop-wrap .j-btn-upgrade").on("click",function(){$("._5118-header").addClass("show");var t=i(16);new t({}).$mount().$after("#app")}),$(".j-btn-upgrade-inside").on("click",function(){$("._5118-header").addClass("show")});var t;$(".logged .j-open-ul,.logged .user-ul").hover(function(){t&&clearTimeout(t),$(".user-ul").removeClass("show").addClass("show")},function(){t=setTimeout(function(){$(".user-ul").removeClass("show")},1500)}),$("#j-collect-phone .close").on("click",function(){var t={sysname:"UserBindMobile",type:1,value:"0"};Fn.http().fetch("/api/UserSetting_Set1BySysName",{data:t}).then(function(t){$("#j-collect-phone").remove()})}),$("#j-collect-phone .bind-btn").on("click",function(){var t=$(this).data("url"),e={sysname:"UserBindMobile",type:1,value:"0"};Fn.http().fetch("/api/UserSetting_Set1BySysName",{data:e}).then(function(e){$("#j-collect-phone").remove(),window.location.href=t+"/signin/update?bindmobile=true"})}),$("._5118-footer-xieyi .j-close").on("click",function(){var t={sysname:"UserProtocol",type:1,value:"0"};Fn.http().fetch("/api/UserSetting_SetBySysName",{data:t}).then(function(t){$("._5118-footer-xieyi").remove()})})})},function(t,e,i){var n=i(2),o=Object.prototype.toString,a=n.define({now:new Date,now_string:"",add:function(t,e){if(/^(yyyy|MM|dd|HH|mm|ss|w)$/.test(t)){var i=this.now;switch(t){case"yyyy":i.setFullYear(i.getFullYear()+e);break;case"MM":i.setMonth(i.getMonth()+e);break;case"dd":i.setDate(i.getDate()+e);break;case"HH":i.setHours(i.getHours()+e);break;case"mm":i.setMinutes(i.getMinutes()+e);break;case"ss":i.setSeconds(i.getSeconds()+e)}}return this},init:function(t){this.setDate(t)},setDate:function(t){return t&&("string"==typeof t?(this.now=new Date(Date.parse(t.replace(/-/g,"/"))),this.now_string=t):"number"==typeof t?this.now=new Date(t):"[object Date]"===o.call(t)&&(this.now=t)),this},getProp:function(t){return/^(yyyy|MM|dd|HH|mm|ss|w)$/.test(t)?Number(this.format(t)):void 0},setProp:function(t,e){if(/^(yyyy|MM|dd|HH|mm|ss|w)$/.test(t)){var i=this.now;switch(t){case"yyyy":i.setFullYear(e);break;case"MM":i.setMonth(e-1);break;case"dd":i.setDate(e);break;case"HH":i.setHours(e);break;case"mm":i.setMinutes(e);break;case"ss":i.setSeconds(e)}}return this.now_string},exec:function(t){return t&&t.call(this,this.now),this},timeAgo:function(t){var e,i=this.differTo(new Date,!0);if(t)return i.days;for(var n in i){if(e=i[n],"yyyy"===n&&e>0)return e+"年前";if("MM"===n&&e>0)return e+"月前";if("dd"===n&&e>0)return e+"天前";if("HH"===n&&e>0)return e+"小时前";if("mm"===n&&e>0)return e+"分钟前";if("ss"===n&&e>0)return e+"秒前"}return this.value()},differTo:function(t,e){var i=this.now,n=a.parse(t);return e&&(i=n,n=this.now),{yyyy:i.getFullYear()-n.getFullYear(),MM:i.getMonth()-n.getMonth(),dd:i.getDate()-n.getDate(),HH:i.getHours()-n.getHours(),mm:i.getMinutes()-n.getMinutes(),ss:i.getSeconds()-n.getSeconds(),days:parseInt((i.getTime()-n.getTime())/864e5)}},compareTo:function(t,e){var i=this.now,n=a.parse(t);return e&&(i=n,n=this.now),i-n>0},getDaysOfMonth:function(){return new Date(this.now.getFullYear(),this.now.getMonth()+1,0).getDate()},getDayOfWeek:function(){return this.now.getDay()},getUTC:function(){var t=this.now;return Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds())},format:function(t){var e=this.now;if(t){var i={"M+":e.getMonth()+1,"d+":e.getDate(),"h+":e.getHours(),"H+":e.getHours(),"m+":e.getMinutes(),"s+":e.getSeconds(),"q+":Math.floor((e.getMonth()+3)/3),w:"0123456".indexOf(e.getDay()),S:e.getMilliseconds()};/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(e.getFullYear()+"").substr(4-RegExp.$1.length)));for(var n in i)new RegExp("("+n+")").test(t)&&(t=t.replace(RegExp.$1,1===RegExp.$1.length?i[n]:("00"+i[n]).substr((""+i[n]).length)));return t}return""},value:function(t){return t=t||"yyyy-MM-dd",this.format(t)}});a.parse=function(t){return"[object Date]"===o.call(t)?t:new Date(t)},n.Date=a,n.date=function(t){return new n.Date(t)},t.exports=n.date},function(t,e){function i(t){var e=t||window.event,i=u.call(arguments,1),r=0,c=0,h=0,p=0,l=0,f=0;if(t=$.event.fix(e),t.type="mousewheel","detail"in e&&(h=-1*e.detail),"wheelDelta"in e&&(h=e.wheelDelta),"wheelDeltaY"in e&&(h=e.wheelDeltaY),"wheelDeltaX"in e&&(c=-1*e.wheelDeltaX),"axis"in e&&e.axis===e.HORIZONTAL_AXIS&&(c=-1*h,h=0),r=0===h?c:h,"deltaY"in e&&(h=-1*e.deltaY,r=h),"deltaX"in e&&(c=e.deltaX,0===h&&(r=-1*c)),0!==h||0!==c){if(1===e.deltaMode){var m=$.data(this,"mousewheel-line-height");r*=m,h*=m,c*=m}else if(2===e.deltaMode){var v=$.data(this,"mousewheel-page-height");r*=v,h*=v,c*=v}if(p=Math.max(Math.abs(h),Math.abs(c)),(!s||s>p)&&(s=p,o(e,p)&&(s/=40)),o(e,p)&&(r/=40,c/=40,h/=40),r=Math[r>=1?"floor":"ceil"](r/s),c=Math[c>=1?"floor":"ceil"](c/s),h=Math[h>=1?"floor":"ceil"](h/s),d.settings.normalizeOffset&&this.getBoundingClientRect){var w=this.getBoundingClientRect();l=t.clientX-w.left,f=t.clientY-w.top}return t.deltaX=c,t.deltaY=h,t.deltaFactor=s,t.offsetX=l,t.offsetY=f,t.deltaMode=0,i.unshift(t,r,c,h),a&&clearTimeout(a),a=setTimeout(n,200),($.event.dispatch||$.event.handle).apply(this,i)}}function n(){s=null}function o(t,e){return d.settings.adjustOldDeltas&&"mousewheel"===t.type&&e%120===0}var a,s,r=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],c="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],u=Array.prototype.slice;if($.event.fixHooks)for(var h=r.length;h;)$.event.fixHooks[r[--h]]=$.event.mouseHooks;var d=$.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var t=c.length;t;)this.addEventListener(c[--t],i,!1);else this.onmousewheel=i;$.data(this,"mousewheel-line-height",d.getLineHeight(this)),$.data(this,"mousewheel-page-height",d.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var t=c.length;t;)this.removeEventListener(c[--t],i,!1);else this.onmousewheel=null;$.removeData(this,"mousewheel-line-height"),$.removeData(this,"mousewheel-page-height")},getLineHeight:function(t){var e=$(t),i=e["offsetParent"in $.fn?"offsetParent":"parent"]();return i.length||(i=$("body")),parseInt(i.css("fontSize"),10)||parseInt(e.css("fontSize"),10)||16},getPageHeight:function(t){return $(t).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};$.fn.extend({mousewheel:function(t){return t?this.bind("mousewheel",t):this.trigger("mousewheel")},unmousewheel:function(t){return this.unbind("mousewheel",t)}})},function(t,e,i){Vue.component("app-pager",{props:["rowcount","pageindex","pagesize"],template:"#tmpl-app-pager",data:function(){return{start:[],index:1,count:0,indexs:1,breaks:!1}},compiled:function(){this.init(this.rowcount,this.pageindex,this.pagesize)},events:{pagerInit:function(t){return this.init(t.rowcount,t.pageindex,t.pagesize),!0}},methods:{init:function(t,e,i){var n,o,a=[],s=Number(e),r=Math.ceil(Number(t)/Number(i));this.index=s>r?r:s,this.count=r,this.breaks=r>7,this.indexs=this.index,this.breaks?1==s?(n=2,o=7):6>s?(n=2,o=7):s==this.count?(n=this.count-5,o=this.count):(n=s-2,o=s+3,o>=this.count&&(n=this.count-5,o=this.count)):(n=2,o=this.count);for(var c=n;o>c;c++)a.push(c);this.start=a},"goto":function(t){"prev"===t?t=this.index-1<1?1:this.index-1:"next"===t&&(t=this.index+1>=this.count?this.count:this.index+1),this.index=Number(t),this.$dispatch("onPager",this.index)}}}),Vue.component("app-pager-export",{props:["rowcount","pageindex","pagesize","rowlimit","realcount","exportlink","paycanfree","directdownload","directshowpay","aspnetca","crowstate","packstate"],template:"#tmpl-app-pager-export",data:function(){return{start:[],index:1,count:0,indexs:1,breaks:!1,link:""}},compiled:function(){this.init(this.rowcount,this.pageindex,this.pagesize)},events:{pagerInit:function(t){return this.init(t.rowcount,t.pageindex,t.pagesize),!0},startPage:function(t){this.index=t}},methods:{init:function(t,e,i){var n,o,a=[],s=Number(e),r=Math.ceil(Number(t)/Number(i));this.index=s>r?r:s,this.count=r,this.breaks=r>7,this.indexs=this.index,this.rowcount=t,this.breaks?1==s?(n=2,o=7):6>s?(n=2,o=7):s==this.count?(n=this.count-5,o=this.count):(n=s-2,o=s+3,o>=this.count&&(n=this.count-5,o=this.count)):(n=2,o=this.count);for(var c=n;o>c;c++)a.push(c);this.start=a},"goto":function(t){"prev"===t?t=this.index-1<1?1:this.index-1:"next"===t&&(t=this.index+1>=this.count?this.count:this.index+1),this.index=Number(t),this.$dispatch("onPager",this.index)},getMax:function(){return Math.ceil(Number(this.realcount)/Number(this.pagesize))},showwxqr:function(){if($("._5118-header").addClass("show"),-1==Site_INFO.WeChatBindState)return void $$.reject("当前未登录，请登录后操作！",function(){window.location.href=window.SubDomain.account+"/signin?r="+encodeURIComponent(window.location.href)});if(void 0!==this.aspnetca&&("cikuindex"==this.aspnetca||"dailyhot"==this.aspnetca)&&6!=window.Site_INFO.level){var t=i(15);return void new t({data:{showflag:"ciku"}}).$mount().$after("#app")}if(Site_INFO.WeChatBindState>0){var e=i(17);return $$._wxqrcode&&($$._wxqrcode.destroy(),$$._wxqrcode=null),$$._wxqrcode=new e({parent:$$,data:{position:"qrtop"}}).$mount().$after(this.$els.exportbtn),!1}if(0==Site_INFO.WeChatBindState)if("1"==this.directdownload||this.exportlink&&this.exportlink.indexOf("viewtype=1")>-1||!Site_INFO.DownParams.IsControl)this.link=this.exportlink;else{this.link="javascript:;";var n=i(18);new n({parent:this,data:{exportlink:this.exportlink,paycanfree:this.paycanfree,directshowpay:this.directshowpay}}).$mount().$after("#app")}}}}),Vue.component("btn-export",{props:["exportlink","qrcodefx","paycanfree","directdownload","directshowpay","aspnetca","crowstate","cryptcode","realcount","paytitle","cikucount","cikuexport"],template:"#tmpl-btn-export",data:function(){return{link:"",cikucount:"",cikuexport:""}},methods:{showwxqr:function(){if(-1==Site_INFO.WeChatBindState)return void $$.reject("当前未登录，请登录后操作。",function(){window.location.href=window.SubDomain.account+"/signin?r="+encodeURIComponent(window.location.href)});if(void 0!==this.aspnetca&&"naotudetail"==this.aspnetca&&6!=window.Site_INFO.level&&""!=this.cikucount&&""!=this.cikuexport){var t=i(15);return void new t({data:{showflag:"ciku"}}).$mount().$after("#app")}if(void 0!==this.aspnetca&&"cikuindex"==this.aspnetca&&6!=window.Site_INFO.level){var t=i(15);return void new t({data:{showflag:"ciku"}}).$mount().$after("#app")}if(this.cikucount=this.cikucount,this.cikuexport=this.cikuexport,Site_INFO.WeChatBindState>0){var e=i(17);$$._wxqrcode&&($$._wxqrcode.destroy(),$$._wxqrcode=null),$$._wxqrcode=new e({parent:this,data:{exportlink:this.exportlink,paycanfree:this.paycanfree,directshowpay:this.directshowpay}}).$mount().$after(this.$el)}else if(0==Site_INFO.WeChatBindState)if("1"==this.directdownload||!Site_INFO.DownParams.IsControl||this.exportlink&&this.exportlink.indexOf("viewtype=1")>-1)this.link=this.exportlink;else{this.link="javascript:;";var n=i(18);new n({parent:this,data:{exportlink:this.exportlink,paycanfree:this.paycanfree,cryptcode:this.cryptcode,realcount:this.realcount,paytitle:this.paytitle,aspnetca:this.aspnetca,directshowpay:this.directshowpay}}).$mount().$after("#app")}}}}),Vue.component("btn-misc-export",{props:["exportlink","qrcodefx","paycanfree","directshowpay","directdownload","aspnetca","cryptcode","paytitle","realcount","crowstate","packstate"],template:"#tmpl-btn-misc-export",data:function(){return{link:""}},methods:{showwxqr:function(){if(""!=this.packstate&&void 0!=this.packstate&&1==this.directdownload)return void(this.link=this.exportlink);if(Site_INFO.WeChatBindState>0){if("filecikuexport"==this.aspnetca){this.link="javascript:;";var t=i(18);return void new t({parent:this,data:{exportlink:this.exportlink,paycanfree:this.paycanfree,directshowpay:this.directshowpay,aspnetca:this.aspnetca,cryptcode:this.cryptcode,paytitle:this.paytitle,realcount:this.realcount}}).$mount().$after("#app")}var e=i(17);$$._wxqrcode&&($$._wxqrcode.destroy(),$$._wxqrcode=null),$$._wxqrcode=new e({parent:this,data:{position:this.qrcodefx}}).$mount().$after(this.$el)}else if(0==Site_INFO.WeChatBindState)if("1"==this.directdownload||this.exportlink&&this.exportlink.indexOf("viewtype=1")>-1)this.link=this.exportlink;else{this.link="javascript:;";var t=i(18);new t({parent:this,data:{exportlink:this.exportlink,paycanfree:this.paycanfree,directshowpay:this.directshowpay,aspnetca:this.aspnetca,cryptcode:this.cryptcode,paytitle:this.paytitle,realcount:this.realcount}}).$mount().$after("#app")}else $$.reject("当前未登录，请登录后操作！",function(){window.location.href=window.SubDomain.account+"/signin?r="+encodeURIComponent(window.location.href)})}}}),Vue.component("btn-expk-export",{props:["exportlink","qrcodefx","paycanfree","directshowpay","aspnetca","cryptcode","paytitle","realcount","rowid","explength","expsumcount"],template:"#tmpl-btn-expk-export",data:function(){return{link:""}},methods:{showwxqr:function(){if(this.aspnetca="expkeywordsindex"){if(""==this.rowid||void 0==this.rowid)return void $$.warning("请勾选您要导出的关键词");if(-1==Site_INFO.WeChatBindState)return void $$.reject("当前未登录，请登录后操作！",function(){window.location.href=window.SubDomain.account+"/signin?r="+encodeURIComponent(window.location.href)});if(6!=window.Site_INFO.level){var t=i(15);return void new t({data:{showflag:"ciku"}}).$mount().$after("#app")}return void Fn.http().error(function(t){console.log(t)}).fetch("/api/DigWords_Result_GetPrice",{data:{rowID:this.rowid}}).then(function(t){t&&t.result>0?this.directshowpay="1":this.directshowpay="0",this.exportlink=Site_INFO.exportlink+"?rowid="+this.rowid+"&report=1",this.link="javascript:;";var e=i(18);new e({parent:this,data:{exportlink:this.exportlink,directshowpay:this.directshowpay,aspnetca:this.aspnetca,cryptcode:this.cryptcode,paytitle:this.paytitle,explength:this.explength,expsumcount:this.expsumcount}}).$mount().$after("#app")}.bind(this))}}}}),Vue.component("btn-packyear-service",{props:["qrcodefx","endtime","directshowpay","aspnetca","cryptcode","paytitle","paymode","serviceid","tradeid","redirect"],template:"#tmpl-btn-packyear-service",data:function(){return{link:""}},methods:{showwxqr:function(){if(-1==Site_INFO.WeChatBindState)return void $$.reject("当前未登录，请登录后操作！",function(){window.location.href=window.SubDomain.account+"/signin?r="+encodeURIComponent(window.location.href)});var t=i(19);new t({parent:this,data:{directshowpay:this.directshowpay,aspnetca:this.aspnetca,cryptcode:this.cryptcode,paytitle:this.paytitle,serviceid:this.serviceid,tradeid:this.tradeid,endtime:this.endtime,redirect:this.redirect,paymode:this.paymode}}).$mount().$after("#app")}}}),Vue.component("btn-packyear-export",{props:["exportlink","directdownload","aspnetca"],template:"#tmpl-btn-packyear-export",data:function(){return{link:""}},methods:{showwxqr:function(){"1"==this.directdownload&&(this.link=this.exportlink)}}}),Vue.component("app-pager-packyear-export",{props:["rowcount","pageindex","pagesize","rowlimit","realcount","exportlink","directdownload","aspnetca"],template:"#tmpl-app-pager-packyear-export",data:function(){return{start:[],index:1,count:0,indexs:1,breaks:!1,link:""}},compiled:function(){this.init(this.rowcount,this.pageindex,this.pagesize)},events:{pagerInit:function(t){return this.init(t.rowcount,t.pageindex,t.pagesize),!0},startPage:function(t){this.index=t}},methods:{init:function(t,e,i){var n,o,a=[],s=Number(e),r=Math.ceil(Number(t)/Number(i));this.index=s>r?r:s,this.count=r,this.breaks=r>7,this.indexs=this.index,this.rowcount=t,this.breaks?1==s?(n=2,o=7):6>s?(n=2,o=7):s==this.count?(n=this.count-5,o=this.count):(n=s-2,o=s+3,o>=this.count&&(n=this.count-5,o=this.count)):(n=2,o=this.count);for(var c=n;o>c;c++)a.push(c);this.start=a},"goto":function(t){"prev"===t?t=this.index-1<1?1:this.index-1:"next"===t&&(t=this.index+1>=this.count?this.count:this.index+1),this.index=Number(t),this.$dispatch("onPager",this.index)},getMax:function(){return Math.ceil(Number(this.realcount)/Number(this.pagesize))},showwxqr:function(){"1"==this.directdownload&&(this.link=this.exportlink)}}}),Vue.component("btn-vipyear-export",{props:["exportlink","directdownload","aspnetca","ispayvipyear"],template:"#tmpl-btn-vipyear-export",data:function(){return{link:""}},methods:{showwxqr:function(){if(-1==Site_INFO.WeChatBindState)return void $$.reject("当前未登录，请登录后操作！",function(){window.location.href=window.SubDomain.account+"/signin?r="+encodeURIComponent(window.location.href)});if("True"!=this.ispayvipyear){$("._5118-header").addClass("show");var t=i(15);return void new t({data:{showflag:"vipyear"}}).$mount().$after("#app")}this.link="javascript:;";var e=i(18);new e({parent:this,data:{exportlink:this.exportlink,paycanfree:this.paycanfree,directshowpay:this.directshowpay}}).$mount().$after("#app")}}}),Vue.component("app-pager-vipyear-export",{props:["rowcount","pageindex","pagesize","rowlimit","realcount","exportlink","aspnetca","ispayvipyear","totalcount","packstate"],template:"#tmpl-app-pager-vipyear-export",data:function(){return{start:[],index:1,count:0,indexs:1,breaks:!1,link:""}},compiled:function(){this.init(this.rowlimit,this.pageindex,this.pagesize)},events:{pagerInit:function(t){return this.init(t.rowlimit,t.pageindex,t.pagesize),!0},startPage:function(t){this.index=t}},methods:{init:function(t,e,i){var n,o,a=[],s=Number(e),r=Math.ceil(Number(t)/Number(i));this.index=s>r?r:s,this.count=r,this.breaks=r>7,this.indexs=this.index,this.rowcount=t,this.breaks?1==s?(n=2,o=7):6>s?(n=2,o=7):s==this.count?(n=this.count-5,o=this.count):(n=s-2,o=s+3,o>=this.count&&(n=this.count-5,o=this.count)):(n=2,o=this.count);for(var c=n;o>c;c++)a.push(c);this.start=a},"goto":function(t){"prev"===t?t=this.index-1<1?1:this.index-1:"next"===t&&(t=this.index+1>=this.count?this.count:this.index+1),this.index=Number(t),this.$dispatch("onPager",this.index)},getMax:function(){return Math.ceil(Number(this.realcount)/Number(this.pagesize))},showwxqr:function(){if(-1==Site_INFO.WeChatBindState)return void $$.reject("当前未登录，请登录后操作！",function(){window.location.href=window.SubDomain.account+"/signin?r="+encodeURIComponent(window.location.href)});if("True"!=this.ispayvipyear){$("._5118-header").addClass("show");var t=i(15);return void new t({data:{showflag:"vipyear"}}).$mount().$after("#app")}this.link="javascript:;";var e=i(18);new e({parent:this,data:{exportlink:this.exportlink,paycanfree:this.paycanfree,directshowpay:this.directshowpay}}).$mount().$after("#app")}}}),Vue.component("app-pager-monitor-export",{props:["rowcount","pageindex","pagesize","realcount","exportlink","isyearvip","downtext"],template:"#tmpl-app-pager-monitor-export",data:function(){return{start:[],index:1,count:0,indexs:1,breaks:!1,link:""}},compiled:function(){this.init(this.rowcount,this.pageindex,this.pagesize)},events:{pagerInit:function(t){return this.init(t.rowcount,t.pageindex,t.pagesize),!0},startPage:function(t){this.index=t}},methods:{init:function(t,e,i){var n,o,a=[],s=Number(e),r=Math.ceil(Number(t)/Number(i));this.index=s>r?r:s,this.count=r,this.breaks=r>7,this.indexs=this.index,this.rowcount=t,this.breaks?1==s?(n=2,o=7):6>s?(n=2,o=7):s==this.count?(n=this.count-5,o=this.count):(n=s-2,o=s+3,o>=this.count&&(n=this.count-5,o=this.count)):(n=2,o=this.count);for(var c=n;o>c;c++)a.push(c);this.start=a},"goto":function(t){"prev"===t?t=this.index-1<1?1:this.index-1:"next"===t&&(t=this.index+1>=this.count?this.count:this.index+1),this.index=Number(t),this.$dispatch("onPager",this.index)},getMax:function(){return Math.ceil(Number(this.realcount)/Number(this.pagesize))},showwxqr:function(){if(!this.isyearvip){$("._5118-header").addClass("show");var t=i(15);return void new t({data:{showflag:"monitor"}}).$mount().$after("#app")}this.link=this.exportlink}}})},function(t,e,i){t.exports=Vue.extend({template:"#tmpl-vipupgrade",props:["showflag"],data:function(){return{view:{page:window.Site_INFO.DownParams.AspNetCA}}},methods:{init:function(){},close:function(){$("._5118-header").removeClass("show"),this.$destroy(!0)},payUpgrade:function(){var t=i(16);new t({data:{showflag:this.showflag}}).$mount().$after("#app"),this.$destroy(!0)}}})},function(t,e){t.exports=Vue.extend({template:"#tmpl-pay-upgrade",props:["atab","showflag","urlreferrer"],data:function(){return{view:{tabindex:0,name:"ajaxing",cellfee:280,cellmonth:"月",secondtext:"",qrcodeurl:"",time:"1年",payType:""},membershiplist:[],paytimeoutmsg:"",paystatesuccess:0,paystatesuccessmag:"",form:{stotalfee:280,usecouponcodestate:!1,txtcouponcode:"",couponcodeiseffec:!0,usecouponcodeissucess:!1,checkchangeprice:!1,olddata:"",checkstats:"off"}}},ready:function(){this.init(),this.ajaxMember("undefined"!=typeof this.atab?function(){this.tab(this.atab,this.membershiplist[this.atab])}.bind(this):null)},methods:{init:function(){(""==this.showflag||"undefined"==this.showflag)&&(this.showflag="default"),(""==this.urlreferrer||"undefined"==this.urlreferrer)&&(this.urlreferrer=window.location.href),this.view.tabindex=0,this.view.name="ajaxing"},tab:function(t,e){this.form.usecouponcodestate=!1,this.form.couponcodeiseffec=!0,this.form.usecouponcodeissucess=!1,this.form.txtcouponcode="",this.form.checkchangeprice=!1,this.view.tabindex=t,this.view.cellfee=this.getcellfee(e),this.view.cellmonth=this.getcellmonth(e),this.view.qrcodeurl=e.QrCodeUrl,this.view.time=this.gettime(e)},gettime:function(t){return 12==t.CellMonth?"1年":t.CellMonth>1?t.CellMonth+"个月":"1个月"},getcellfee:function(t){return t.CellFee>1?t.CellFee/100:1==t.CellFee?30:void 0},getcellmonth:function(t){return 12==t.CellMonth?"年":t.CellMonth>1?t.CellMonth+"月":"月"},getqrcodeurl:function(t){return this.membershiplist[t].QrCodeUrl},alipay:function(){this.view.name="alipay",this.view.payType="alipay"},close:function(){$("._5118-header").removeClass("show"),this.PayTimerEnd(),this.$destroy(!0)},close_reload:function(){$("._5118-header").removeClass("show"),this.PayTimerEnd(),this.$destroy(!0),window.location.reload()},ajaxMember:function(t){Fn.http().error(function(t){console.log(t)}).fetch("/api/GetMemberShipList",{data:{urlreferrer:this.urlreferrer}}).then(function(e){if(null!=e&&""!=e){this.view.name="ajaxmemberpay",this.membershiplist=e,this.view.qrcodeurl=this.membershiplist[0].QrCodeUrl,t&&t.call(this),$$vm.WxPayTimerStartFn=this.PayTimerStart;var i=this;setTimeout(function(){i.PayTimerStart(function(t,e){t&&t.indexOf("http")>-1&&($$vm.WxPayTimerStartFn=null,clearTimeout($$vm.WxPayTimeoutObj),$$vm.WxPayTimeoutObj=null,e.paystatesuccess=0,e.view.name="paysuccess-",e.view.paystatesuccessmag=t,e.paytimeoutmsg=t,window.location.href=t)},i)},1e3)}else this.view.error=e}.bind(this))},PayTimerStart:function(t,e){$$vm.WxPayTimeoutObj&&clearTimeout($$vm.WxPayTimeoutObj),Fn.http().error(function(t){clearInterval($$vm.WxPayTimeoutObj),console.log(t)}).fetch("/api/WxMemberPayState",{data:{redirect:"undefined"!==this.urlreferrer&&(this.urlreferrer?this.urlreferrer.indexOf("/traffic/")>-1:!1)?this.urlreferrer:window.location.href}}).then(function(i){1!=i?(clearInterval($$vm.WxPayTimeoutObj),t&&t(i.result,e)):$$vm.WxPayTimeoutObj=setTimeout(function(){$$vm.WxPayTimerStartFn(t,e)},4e3)})},PayTimerEnd:function(){$$vm.WxPayTimerStartFn=null,$$vm.WxPayTimeoutObj&&clearTimeout($$vm.WxPayTimeoutObj)},interval:function(t){if("alipay"!=this.view.payType)var e=this,i=setInterval(function(){0==t?(clearInterval(i),window.location.reload()):(e.view.secondtext="("+t+"s后刷新)",t--)},1e3)},couponcodechange:function(){this.form.usecouponcodestate||(this.form.couponcodeiseffec=!0,this.form.usecouponcodeissucess=!1,this.form.txtcouponcode="",this.form.checkchangeprice=!1,this.view.cellfee!=this.membershiplist[0].CellFee/100&&(this.view.name="ajaxmemberpay",this.view.cellfee=this.membershiplist[0].CellFee/100,this.view.qrcodeurl=this.membershiplist[0].QrCodeUrl))},inputChange:function(){if("on"==this.form.checkstats){var t=this.form.txtcouponcode,e=this.form.olddata;e!=t&&(this.form.usecouponcodeissucess=!1,this.form.couponcodeiseffec=!0)}},usecouponcode:function(t){this.view.name="ajaxing",Fn.http().error(function(t){console.log(t)}).fetch("/api/Cooperation_UseCouponCode",{data:{couponCode:this.form.txtcouponcode,muList:this.membershiplist}}).then(function(t){1==t.effec?(this.form.couponcodeiseffec=!0,this.form.usecouponcodeissucess=!0,this.form.checkchangeprice=!0,this.view.name="ajaxmemberpay",this.view.cellfee=t.reslut.CellFee/100*t.coupon.Discount,this.view.qrcodeurl=t.reslut.QrCodeUrl,this.form.checkstats="on",this.form.olddata=t.coupon.CouponCode):(this.view.name="ajaxmemberpay",this.form.couponcodeiseffec=!1,this.form.usecouponcodeissucess=!1)}.bind(this))},getMonthPay:function(t){return Number(t/12).toFixed(1)}}})},function(t,e){t.exports=Vue.extend({template:"#tmpl-wechat-qrcode",props:["position","elem"],methods:{destroy:function(){this.$destroy(!0),$(document).off("mousedown.qr")}},ready:function(){var t=this.position||"qrdown";"object"==typeof t?$(this.$el).css(t):$(this.$el).addClass(t),"qrdown"==t&&$(this.$el).css("left",this.$parent.$el.offsetLeft-this.$parent.$el.offsetWidth-25+"px").css("top",this.$parent.$el.offsetTop+this.$parent.$el.offsetHeight+5+"px");var e=$("#wxqrcode");null!=e&&e.size()>0&&null!=e.data("qrurl")&&(jQuery(function(){e.qrcode({text:e.data("qrurl"),height:120,width:120,src:"http://s0.5118.com/images/account/wechatlogo.jpg"})}),$$vm.WxTimer.start(function(){window.location.reload()})),$(document).on("mousedown.qr",function(t){$(t.target).hasClass(".wxexportqr")||$(t.target).parents(".wxexportqr").length||($$._wxqrcode&&($$._wxqrcode.destroy(),$$._wxqrcode=null),$$vm.WxTimer.end())})}})},function(t,e,i){var n=function(t){var e=String(t).split(".");2==e.length&&(e=String(Number(t).toFixed(2)).split("."));for(var i=e[0],n=e[1],o="";i.replace("-","").length>3;)o=","+i.slice(-3)+o,i=i.slice(0,i.length-3);return i&&(o=i+o),o+(2==e.length?"."+n:"")};t.exports=Vue.extend({template:"#tmpl-download-level",props:["exportlink","paycanfree","directshowpay","aspnetca","cryptcode","paytitle","realcount","exp","explength","expsumcount"],data:function(){return{view:{name:"ajaxing",userlevel:window.Site_INFO.level,error:"",ajaxingtext:"",showvipstate:!1,isyearvip:!1,shownotvipmsg:!1,secondtext:"",stotalfee:0},downdata:{UID:0,Controller:"",MaxCount:"",Value:0,ServerLevel:"",Format:"",Index:0,Loading:0},leveldata:[],
currentleveldata:!1,nextlevelinfo:!1,wxpayinfo:{TradeOrderNo:""},paytimeoutmsg:"",packinfo:!1,downurl:{mydownurl:window.SubDomain.account+"/signin/download",tmpfiledownurl:window.SubDomain.account+"/signin/download?no=",currentfiledownurl:"javascript:;",lastsamepayfiledownurl:"javascript:;",lastsamepaytime:"",paydownurl:"javascript:;",couponid:0,couponlist:[],currentcoupon:null},paystatesuccess:0,paystatesuccessmag:"",form:{yearvipstate:!1,usecouponcodestate:!1,txtcouponcode:"",couponcodeiseffec:!0,usecouponcodeissucess:!1,checkchangeprice:!1,olddata:"",checkstats:"off"}}},methods:{tow:function(t){return n(t)},noLimit:function(t){return-1==t?"不限":t+"次"},alipay:function(){this.view.name="alipay"},close:function(){$("._5118-header").removeClass("show"),this.PayTimerEnd(),this.$destroy(!0)},ajaxDown:function(){this.form.usecouponcodestate=!1,this.form.checkchangeprice=!1,this.form.usecouponcodeissucess=!1,this.form.txtcouponcode="",this.expall&&(this.view.name="ajaxing"),Fn.http().error(function(t){console.log(t)}).fetch("/api/UserPrivilege",{data:{sysName:this.aspnetca}}).then(function(t){if(null!=t&&t.result.UID>0)if(-1==t.currentexport.ExportCount){this.view.ajaxingtext="下载中……";var e=this;setTimeout(function(){e.close()},3e3),window.location.href=this.exportlink}else this.view.userlevel=t.currentexport.Level,this.downdata=t.result,this.leveldata=t.exportlist,this.currentleveldata=t.currentexport,this.nextlevelinfo=t.nextlevelinfo,this.packinfo=t.packinfo,"1"==this.directshowpay?this.exportAll():this.view.name="downshow";else this.error="数据请求异常，请重试！"}.bind(this))},exportDirect:function(){this.view.name="ajaxing",this.interval(5)},exportAll:function(t){void 0!==t&&0==t&&(this.form.usecouponcodestate=!1,this.form.usecouponcodeissucess=!1,this.form.checkchangeprice=!1,this.form.txtcouponcode=""),this.form.couponcodeiseffec=!0,t=t||0,this.view.name="ajaxing",this.downurl.couponid=t,-1==this.exportlink.indexOf("http")&&(this.exportlink="http://"+window.location.host+this.exportlink),Fn.http().error(function(t){console.log(t)}).fetch("/weixin/PayQrCode",{data:{cn:this.aspnetca,code:this.cryptcode,couponid:t,title:this.paytitle,downurl:this.exportlink}}).then(function(t){if(this.view.name="payexport",t.PayQrCodeUrl){this.downurl.currentfiledownurl=this.downurl.tmpfiledownurl+t.TradeOrderNo,this.downurl.lastsamepayfiledownurl=this.downurl.tmpfiledownurl+t.LastSamePayTradeOrderNo,this.downurl.lastsamepaytime=t.LastSamePayTime,this.downurl.couponlist=t.CouponList,this.downurl.currentcoupon=t.CurrentCoupon,this.wxpayinfo=t,this.view.stotalfee=t.TotalFee,$$vm.WxPayAjaxData={tradeorderno:this.wxpayinfo.TradeOrderNo},$$vm.WxPayTimerStartFn=this.PayTimerStart;var e=this;setTimeout(function(){e.PayTimerStart(function(t,e){$$vm.WxPayAjaxData=null,$$vm.WxPayTimerStartFn=null,clearTimeout($$vm.WxPayTimeoutObj),$$vm.WxPayTimeoutObj=null,t&&t.indexOf("http")>-1?(e.downurl.paydownurl=t,e.paystatesuccess=1,e.view.name="paysuccess-",window.location.href=t,e.interval(5)):0==t?e.paytimeoutmsg="支付已过期,请刷新页面":(e.paystatesuccess=0,e.view.name="paysuccess-",e.paystatesuccessmag=t,e.paytimeoutmsg=t,e.interval(5))},e)},1e3)}else this.view.error=t}.bind(this))},PayTimerStart:function(t,e){$$vm.WxPayTimeoutObj&&clearTimeout($$vm.WxPayTimeoutObj),Fn.http().error(function(t){clearInterval($$vm.WxPayTimeoutObj),console.log(t)}).fetch("/api/WeChatPayState",{data:$$vm.WxPayAjaxData}).then(function(i){1!=i?(clearInterval($$vm.WxPayTimeoutObj),t&&t(i.result,e)):$$vm.WxPayTimeoutObj=setTimeout(function(){$$vm.WxPayTimerStartFn(t,e)},4e3)})},PayTimerEnd:function(){$$vm.WxPayAjaxData=null,$$vm.WxPayTimerStartFn=null,$$vm.WxPayTimeoutObj&&clearTimeout($$vm.WxPayTimeoutObj)},payUpgrade:function(){var t=i(16);new t({}).$mount().$after("#app"),this.$destroy(!0)},yearvipcheck:function(){return"6"!=this.view.userlevel?(this.form.yearvipstate=!1,void(this.view.shownotvipmsg=!0)):this.form.yearvipstate?void Fn.http().error(function(t){console.log(t)}).fetch("/api/PayNotify_GetUserLog",{}).then(function(t){return t.result>0?(this.view.shownotvipmsg=!1,void(this.exportlink.indexOf("?")>0&&this.exportlink.indexOf("report=1")>0&&("sitemiscbaidupc"==this.aspnetca||"wacibaidurank"==this.aspnetca||"sitemiscdomain"==this.aspnetca||"sitemiscupdown"==this.aspnetca)&&("sitemiscupdown"==this.aspnetca&&(this.exportlink=Site_INFO.TransformExport+"?trans=1&report=1"),"wacibaidurank"==this.aspnetca&&(this.exportlink="/seo/baidurank/"+Site_INFO.TransformExport+"?trans=1&report=1"),"sitemiscbaidupc"==this.aspnetca&&(this.exportlink=Site_INFO.TransformBaiduPCExport+"?trans=1&report=1"),"sitemiscdomain"==this.aspnetca&&(this.exportlink=Site_INFO.TransformDomainExport+"?trans=1&report=1")))):(this.form.yearvipstate=!1,void(this.view.shownotvipmsg=!0))}.bind(this)):(this.view.shownotvipmsg=!1,this.exportlink=Site_INFO.exportlink,"wacibaidurank"==this.aspnetca&&(this.exportlink="/seo/baidurank/"+Site_INFO.TransformExport+"?report=1"),"sitemiscbaidupc"==this.aspnetca&&(this.exportlink=Site_INFO.BaiduPCExport),void("sitemiscdomain"==this.aspnetca&&(this.exportlink=Site_INFO.DomainExport)))},interval:function(t){var e=this,i=setInterval(function(){0==t?(clearInterval(i),"filecikuexport"==this.aspnetca?window.location.reload():e.close()):(e.view.secondtext="("+t+"s)",t--)},1e3)},couponcodechange:function(){this.form.usecouponcodestate||(this.form.couponcodeiseffec=!0,this.form.usecouponcodeissucess=!1,this.form.txtcouponcode="",this.form.checkchangeprice=!1,this.PayTimerEnd(),this.exportAll())},inputChange:function(){if("on"==this.form.checkstats){var t=this.form.txtcouponcode,e=this.form.olddata;e!=t&&(this.form.usecouponcodeissucess=!1,this.form.couponcodeiseffec=!0)}},usecouponcode:function(t){this.view.name="ajaxing",Fn.http().error(function(t){console.log(t)}).fetch("/api/Cooperation_UseCouponCode",{data:{couponCode:this.form.txtcouponcode}}).then(function(t){return 0==t.effec?(this.view.name="payexport",this.form.couponcodeiseffec=!1,void(this.form.usecouponcodeissucess=!1)):void(0!=t.effec&&(this.form.couponcodeiseffec=!0,this.form.usecouponcodeissucess=!0,this.form.checkchangeprice=!0,this.form.checkstats="on",this.form.olddata=this.form.txtcouponcode,Fn.http().error(function(t){console.log(t)}).fetch("/weixin/PayQrCode",{data:{cn:this.aspnetca,code:this.cryptcode,title:this.paytitle,downurl:this.exportlink,coupon:t.coupon}}).then(function(t){if(this.PayTimerEnd(),this.view.name="payexport",t.PayQrCodeUrl){this.form.checkchangeprice=!0,this.downurl.currentfiledownurl=this.downurl.tmpfiledownurl+t.TradeOrderNo,this.downurl.lastsamepayfiledownurl=this.downurl.tmpfiledownurl+t.LastSamePayTradeOrderNo,this.downurl.lastsamepaytime=t.LastSamePayTime,this.downurl.couponlist=t.CouponList,this.downurl.currentcoupon=t.CurrentCoupon,this.wxpayinfo=t,$$vm.WxPayAjaxData={tradeorderno:this.wxpayinfo.TradeOrderNo},$$vm.WxPayTimerStartFn=this.PayTimerStart;var e=this;setTimeout(function(){e.PayTimerStart(function(t,e){$$vm.WxPayAjaxData=null,$$vm.WxPayTimerStartFn=null,clearTimeout($$vm.WxPayTimeoutObj),$$vm.WxPayTimeoutObj=null,t&&t.indexOf("http")>-1?(e.downurl.paydownurl=t,e.paystatesuccess=1,e.view.name="paysuccess-",window.location.href=t,e.interval(5)):0==t?e.paytimeoutmsg="支付已过期,请刷新页面":(e.paystatesuccess=0,e.view.name="paysuccess-",e.paystatesuccessmag=t,e.paytimeoutmsg=t,e.interval(5))},e)},1e3)}else this.view.error=t}.bind(this))))}.bind(this))}},ready:function(){return $("._5118-header").addClass("show"),this.view.shownotvipmsg=!1,"ExportError"==this.exportlink?void this.exportDirect():(this.realcount||(this.realcount=Site_INFO.DownParams.PayRowCount),this.cryptcode||(this.cryptcode=Site_INFO.DownParams.PayCryptCode),this.paytitle||(this.paytitle=Site_INFO.DownParams.PayFileName),this.aspnetca||(this.aspnetca=Site_INFO.DownParams.AspNetCA),this.cryptcode&&this.paytitle||(this.paycanfree=1),this.exportlink?-1==this.exportlink.indexOf("http")&&(this.exportlink="http://"+window.location.host+this.exportlink):this.paycanfree=1,("sitemiscbaidupc"==this.aspnetca||"wacibaidurank"==this.aspnetca||"sitemiscdomain"==this.aspnetca||"sitemiscupdown"==this.aspnetca)&&(this.view.showvipstate=!0),void this.ajaxDown())}})},function(t,e,i){t.exports=Vue.extend({template:"#tmpl-packyear-level",props:["endtime","directshowpay","aspnetca","cryptcode","paytitle","paymode","serviceid","tradeid","redirect"],data:function(){return{view:{name:"ajaxing",userlevel:window.Site_INFO.level,error:"",ajaxingtext:"",showvipstate:!1,isyearvip:!1,shownotvipmsg:!1,secondtext:"",stotalfee:0,tabmodel:"dredge"},wxpayinfo:{TradeOrderNo:""},tradeinfo:{},paytimeoutmsg:"",productid:"",newtradelist:{},renewtradelist:{},ser_value:"",pack:{mydownurl:window.SubDomain.account+"/signin/download",tmpfiledownurl:window.SubDomain.account+"/signin/download?no=",currentfiledownurl:"javascript:;",lastsamepayfiledownurl:"javascript:;",lastsamepaytime:"",paydownurl:"javascript:;"},paystatesuccess:0,paystatesuccessmag:"",form:{yearvipstate:!1,usecouponcodestate:!1,txtcouponcode:"",couponcodeiseffec:!0,usecouponcodeissucess:!1,checkchangeprice:!1,olddata:"",checkstats:"off"}}},methods:{alipay:function(){this.view.name="alipay"},close:function(){$("._5118-header").removeClass("show"),this.PayTimerEnd(),this.$destroy(!0)},ajaxPack:function(){this.form.usecouponcodestate=!1,this.form.checkchangeprice=!1,this.form.couponcodeiseffec=!0,this.form.usecouponcodeissucess=!1,this.form.txtcouponcode="",this.view.name="ajaxing","filecikuexport"==this.aspnetca&&void 0!==this.aspnetca?(""==this.paymode||void 0==this.paymode)&&(this.productid="UCS_"+this.serviceid+"_"+this.tradeid):this.productid="UCS_"+this.serviceid+"_1",this.view.name="ajaxing",this.packYear()},packYear:function(){Fn.http().error(function(t){console.log(t)}).fetch("/weixin/PackQrCode",{data:{cn:this.aspnetca,code:this.cryptcode,title:this.paytitle,productid:this.productid}}).then(function(t){if(this.view.name="paypack",t.PayQrCodeUrl){this.wxpayinfo=t,this.view.stotalfee=t.TotalFee,$$vm.WxPayAjaxData={tradeorderno:this.wxpayinfo.TradeOrderNo,productid:this.wxpayinfo.PackProductID,redirect:this.redirect},$$vm.WxPayTimerStartFn=this.PayTimerStart;var e=this;setTimeout(function(){e.PayTimerStart(function(t,e){$$vm.WxPayAjaxData=null,$$vm.WxPayTimerStartFn=null,clearTimeout($$vm.WxPayTimeoutObj),$$vm.WxPayTimeoutObj=null,t&&t.indexOf("http")>-1?(e.paystatesuccess=1,window.location.href=t,e.interval(5)):0==t?e.paytimeoutmsg="支付已过期,请刷新页面":(e.paystatesuccess=0,e.paystatesuccessmag=t,e.paytimeoutmsg=t,e.interval(5))},e)},1e3)}else this.view.error=t}.bind(this))},PayTimerStart:function(t,e){$$vm.WxPayTimeoutObj&&clearTimeout($$vm.WxPayTimeoutObj),Fn.http().error(function(t){clearInterval($$vm.WxPayTimeoutObj),console.log(t)}).fetch("/api/WxPackYearPayState",{data:$$vm.WxPayAjaxData}).then(function(i){1!=i?(clearInterval($$vm.WxPayTimeoutObj),t&&t(i.result,e)):$$vm.WxPayTimeoutObj=setTimeout(function(){$$vm.WxPayTimerStartFn(t,e)},4e3)})},PayTimerEnd:function(){$$vm.WxPayAjaxData=null,$$vm.WxPayTimerStartFn=null,$$vm.WxPayTimeoutObj&&clearTimeout($$vm.WxPayTimeoutObj)},payUpgrade:function(){var t=i(16);new t({}).$mount().$after("#app"),this.$destroy(!0)},interval:function(t){var e=this,i=setInterval(function(){0==t?(clearInterval(i),"filecikuexport"==this.aspnetca?window.location.reload():e.close()):(e.view.secondtext="("+t+"s)",t--)},1e3)},couponcodechange:function(){this.form.usecouponcodestate||(this.form.couponcodeiseffec=!0,this.form.usecouponcodeissucess=!1,this.form.txtcouponcode="",this.form.checkchangeprice=!1,this.view.name="ajaxing",this.packYear())},inputChange:function(){if("on"==this.form.checkstats){var t=this.form.txtcouponcode,e=this.form.olddata;e!=t&&(this.form.usecouponcodeissucess=!1,this.form.couponcodeiseffec=!0)}},usecouponcode:function(t){this.view.name="ajaxing",Fn.http().error(function(t){console.log(t)}).fetch("/api/Cooperation_UseCouponCode",{data:{couponCode:this.form.txtcouponcode}}).then(function(t){return 0==t.effec?(this.view.name="paypack",this.form.couponcodeiseffec=!1,void(this.form.usecouponcodeissucess=!1)):void(0!=t.effec&&(this.form.couponcodeiseffec=!0,this.form.usecouponcodeissucess=!0,this.form.checkchangeprice=!0,this.form.checkstats="on",this.form.olddata=this.form.txtcouponcode,Fn.http().error(function(t){console.log(t)}).fetch("/weixin/PackQrCode",{data:{cn:this.aspnetca,code:this.cryptcode,title:this.paytitle,productid:this.productid,coupon:t.coupon}}).then(function(t){if(this.view.name="paypack",t.PayQrCodeUrl){this.form.checkchangeprice=!0,this.wxpayinfo=t,$$vm.WxPayAjaxData={tradeorderno:this.wxpayinfo.TradeOrderNo,productid:this.productid,redirect:this.redirect},$$vm.WxPayTimerStartFn=this.PayTimerStart;var e=this;setTimeout(function(){e.PayTimerStart(function(t,e){$$vm.WxPayAjaxData=null,$$vm.WxPayTimerStartFn=null,clearTimeout($$vm.WxPayTimeoutObj),$$vm.WxPayTimeoutObj=null,t&&t.indexOf("http")>-1?(e.paystatesuccess=1,e.view.name="paysuccess-",window.location.href=t,e.interval(5)):0==t?e.paytimeoutmsg="支付已过期,请刷新页面":(e.paystatesuccess=0,e.view.name="paysuccess-",e.paystatesuccessmag=t,e.paytimeoutmsg=t,e.interval(5))},e)},1e3)}else this.view.error=t}.bind(this))))}.bind(this))},tabDredge:function(){this.view.tabmodel="dredge",null!=this.newtradelist&&(this.paytitle=this.newtradelist[0].Name+"行业词库",this.productid="UCS_"+this.serviceid+"_"+this.newtradelist[0].ID,this.view.name="ajaxing",this.packYear())},tabRenew:function(){this.view.tabmodel="renew",null!=this.renewtradelist&&(this.paytitle=this.renewtradelist[0].Name+"行业词库",this.productid="UCS_"+this.serviceid+"_"+this.renewtradelist[0].ID,this.view.name="ajaxing",this.packYear())},initTradeService:function(){return Fn.http().error(function(t){console.log(t)}).fetch("/api/TradeService_GetList",{data:{}})},optionchange:function(t){var e=parseInt($(t.target).val().split("_")[2]);this.paytitle="行业词库",this.productid="";var i="";if("dredge"==this.view.tabmodel){if(null==this.newtradelist)return;this.newtradelist.forEach(function(t){return t.ID==e?void(i=t.Name):void 0})}else{if(null==this.renewtradelist)return;this.renewtradelist.forEach(function(t){return t.ID==e?void(i=t.Name):void 0})}this.paytitle=i+this.paytitle,this.productid=$(t.target).val(),this.view.name="ajaxing",this.packYear()}},ready:function(){$("._5118-header").addClass("show"),this.view.shownotvipmsg=!1,this.paytitle||(this.paytitle=Site_INFO.DownParams.PayFileName),this.aspnetca||(this.aspnetca=Site_INFO.DownParams.AspNetCA),""!=this.paymode&&void 0!=this.paymode?(1==this.directshowpay?this.view.tabmodel="dredge":this.view.tabmodel="renew",this.initTradeService().then(function(t){t&&null!=t.newtradelist&&void 0!=t.newtradelist&&(this.newtradelist=t.newtradelist,this.renewtradelist=t.renewtradelist,"dredge"==this.view.tabmodel?(this.productid="UCS_"+this.serviceid+"_"+this.newtradelist[0].ID,this.paytitle=this.newtradelist[0].Name+"行业词库",this.ser_value=this.productid):(this.productid="UCS_"+this.serviceid+"_"+this.renewtradelist[0].ID,this.paytitle=this.renewtradelist[0].Name+"行业词库",this.ser_value=this.productid),this.packYear())}.bind(this))):this.ajaxPack()}})},function(t,e){Vue.component("search-tips",{props:["count","keyword"],data:function(){return{show:!0}},template:"#tmpl-search-tips",methods:{no:function(){this.show=!1,this.$dispatch("onClearSearch")}}})},function(t,e){Vue.component("app-loading-line",{props:["show","percent"],template:"#tmpl-app-loading-line"})},function(t,e){Vue.component("app-loading-ball",{props:["show"],template:"#tmpl-app-loading-ball"})},function(t,e,i){Vue.component("app-site-editor",{props:["site","tags"],data:function(){var t=[];return $.extend(!0,t,this.tags),{txtName:"",txtSite:"",txtLabel:"",tagsList:t.filter(function(t){return t.TagID}),tagsCount:0,maxlength:51,tagmaxdatacount:0,tagdatacount:0,tagisover:0,tagtipstype:""}},template:"#tmpl-app-site-editor",methods:{ok:function(){var t=[];this.tagsList.forEach(function(e){e.selected&&t.push(e.TagName)}),Fn.http().fetch("/api/SiteMonitor_UpdateSiteInfo",{data:{siteID:this.site.id,siteName:this.txtName,tagNames:t.join(",")}}).then(function(t){t.statusCode?(this.site.edit=!1,this.$dispatch("onSiteUpdate")):$$.warning("保存失败")}.bind(this))},no:function(){this.tagsList.forEach(function(t){t.selected=!1}),this.site.edit=!1},addTag:function(){if(!this.txtLabel)return void $$.warning("请输入标签名称");if(this.tagsList.some(function(t){return t.TagName===this.txtLabel}.bind(this)))return void $$.warning("已有同名标签");if("upgrade"==this.tagtipstype&&this.tagdatacount>0){this.no();var t=i(15);return void new t({data:{showflag:"monitor"}}).$mount().$after("#app")}return 1==this.tagisover||this.tagsList.length+1>this.tagmaxdatacount?(this.txtLabel="",void $$.warning("标签个数已超出上限的："+this.tagmaxdatacount+"个。")):(this.tagsList.push({edit:!0,selected:!0,TagName:Fn.trim(this.txtLabel),DataCount:0}),this.txtLabel="",void this.tagsCount++)},toggleTagCheck:function(t){this.tagsList[t].selected=!this.tagsList[t].selected,this.tagsCount+=this.tagsList[t].selected?1:-1}},ready:function(){$(this.$el).find(":text").first().focus(),Fn.http().fetch("/api/SiteMonitor_CheckLimit",{}).then(function(t){return 0==t.tagMaxDataCount?$$.warning("数据获取出现异常，请重新刷新网页。",function(){window.location.reload()}.bind(this)):void(t&&(this.tagmaxdatacount=t.tagMaxDataCount,this.tagdatacount=t.tagDataCount,this.tagisover=t.tagIsOver,this.tagtipstype=t.tagTipsType))}.bind(this))},activate:function(t){Fn.http().fetch("/api/SiteMonitor_GetInfo",{data:{siteID:this.site.id}}).then(function(t){this.txtName=t.result.SiteName,this.txtSite=t.result.SiteUrl,this.tagsCount=t.result.Tags.length,this.tagsList.forEach(function(e){t.result.Tags.forEach(function(t){t.TagName==e.TagName&&(e.selected=!0)})})}.bind(this)),t()}})},function(t,e,i){Vue.component("addin-site",{template:"#tmpl-addin-site",props:["type","tags","pack"],data:function(){var t=[],e=[];return this.pack.forEach(function(e){t.push($.extend(!0,[],e))}),$.extend(!0,e,this.tags),{show:!0,title:"single"===this.type?"添加监控网站":"批量添加网站",txtName:"",txtSite:"",txtLabel:"",packList:t,tagsList:e,tagsCount:0,maxlength:51,tagmaxdatacount:0,tagdatacount:0,tagisover:0,tagtipstype:"",sitemaxdatacount:0,sitedatacount:0,siteisover:0,sitetipstype:"",urlsCount:0,singleResult:!1,batchsResult:!1,error:""}},methods:{ok:function(){var t,e,n=[],o=[],a=[];if(this.error="","single"===this.type){if(e=Fn.trim(this.txtName),t=Fn.trim(this.txtSite).replace(/(http:\/\/)|(https:\/\/)/g,"").split("/")[0],!t)return void(this.error="请输入网站地址");if(!/([a-z0-9-]+\.[a-z]{2,6}(\.[a-z]{2})?(\:[0-9]{2,6})?)$/i.test(t))return void(this.error="网址格式不正确，请添加正确有效的网址");n.push({SiteName:e,SiteUrl:t})}else{if(!Fn.trim(this.txtSite))return void(this.error="请添加网站地址");for(var s,r=this.txtSite.split("\n"),c=0;c<r.length;c++)if(Fn.trim(r[c])){if(s=r[c].replace(/(http:\/\/)|(https:\/\/)/g,""),e=s.match(/(\(|（).+(\)|）)/)||[""],t=s.replace(/(\(|（).+(\)|）)/,"").replace(/[ ]/g,"").split("/")[0],!/([a-z0-9-]+\.[a-z]{2,6}(\.[a-z]{2})?(\:[0-9]{2,6})?)$/i.test(t))return void(this.error="第"+(c+1)+"行内容格式不正确");n.push({SiteUrl:t,SiteName:e[0].replace(/\(|\)|（|）/g,"")})}}if("upgrade"==this.sitetipstype){if(1==this.siteisover||n.length+this.sitedatacount>this.sitemaxdatacount){this.no();var u=i(15);return void new u({data:{showflag:"monitor"}}).$mount().$after("#app")}}else if(1==this.siteisover||n.length+this.sitedatacount>this.sitemaxdatacount)return void(this.error="监控网站已超出上限个数"+this.sitemaxdatacount+"个，如需添加新的网站，请编辑已监控的网站。");this.tagsList.forEach(function(t){t.selected&&o.push(t.TagName)}),this.packList.forEach(function(t){t.checked&&"KeywordRank"!==t.SysName&&"BaiduIndex"!==t.SysName&&a.push(t.ServiceID)}),Fn.http().start(function(){$$vm.loading.start()}).complete(function(){$$vm.loading.end()}).fetch("/api/SiteMonitor_InsertAndTags",{data:{sites:n,svcIDs:a.join(","),needRelated:"single"===this.type,tagNames:o.join(",")}}).then(function(e){if(2==e.statusCode){var i=5;5118==this.sitemaxdatacount&&(i=500),this.error="批量添加每次最多可添加"+i+"个监控网站"}else if(3==e.statusCode||4==e.statusCode)this.error="监控网站已超出上限个数"+this.sitemaxdatacount+"个，如需添加新的网站，请编辑已监控的网站";else if(0==e.statusCode&&"single"===this.type)for(var n in e.result){switch(e.result[n]){case"repeat":this.error="已存在该网站，不能重复添加";break;case"format":this.error="网址格式不正确，请检查后重试";break;case"error":default:this.error="添加失败，请重试"}break}else if(this.show=!1,"single"==this.type)Fn.http().start(function(){}).complete(function(){}).fetch("/api/RelatedWebsites_GetList",{data:{url:t,pageSize:10}}).then(function(e){this.singleResult={site:t,list:e.result}}.bind(this));else{var o=e.result;for(var n in o)switch(o[n]){case"repeat":o[n]="已存在该网站，不能重复添加";break;case"format":o[n]="网址格式不正确，请检查后重试";break;case"error":o[n]="添加失败，请重试";break;case"ok":delete o[n]}this.batchsResult=e}}.bind(this))},no:function(){this.type=!1},done:function(){this.type=!1,this.$dispatch("onSiteUpdate")},addTag:function(){if(!this.txtLabel)return void $$.warning("请输入标签名称");if(this.tagsList.some(function(t){return t.TagName===this.txtLabel}.bind(this)))return void $$.warning("已有同名标签");if("upgrade"==this.tagtipstype&&this.tagdatacount>0){this.no();var t=i(15);return void new t({data:{showflag:"monitor"}}).$mount().$after("#app")}return 1==this.tagisover||this.tagsList.length+1>this.tagmaxdatacount?(this.txtLabel="",void(this.error="标签个数已超出上限的："+this.tagmaxdatacount+"个。")):(this.tagsList.push({edit:!0,selected:!0,TagName:Fn.trim(this.txtLabel),DataCount:0}),this.txtLabel="",void this.tagsCount++)},toggleTagCheck:function(t){this.tagsList[t].selected=!this.tagsList[t].selected,this.tagsCount+=this.tagsList[t].selected?1:-1},togglePackCheck:function(t){this.packList[t].checked=!this.packList[t].checked},checkUrlCount:function(){this.urlsCount=this.txtSite.split("\n").filter(function(t){return Fn.trim(t)}).length},addLikely:function(){}},ready:function(){$(this.$el).next().find(":text").first().focus(),this.tagsList=this.tagsList.filter(function(t){return t.TagID>0&&t.TagID==$$vm.tags.tid&&(t.selected=!0,this.tagsCount++),t.TagID>0}.bind(this)),Fn.http().fetch("/api/SiteMonitor_CheckLimit",{}).then(function(t){return 0==t.siteMaxDataCount||0==t.tagMaxDataCount?$$.warning("数据获取出现异常，请重新刷新网页。",function(){window.location.reload()}.bind(this)):void(t&&(this.tagmaxdatacount=t.tagMaxDataCount,this.tagdatacount=t.tagDataCount,this.tagisover=t.tagIsOver,this.tagtipstype=t.tagTipsType,this.sitemaxdatacount=t.siteMaxDataCount,this.sitedatacount=t.siteDataCount,this.siteisover=t.siteIsOver,this.sitetipstype=t.siteTipsType))}.bind(this))}})},function(t,e){Vue.component("addin-service",{props:["id","siteid","name","site"],data:function(){return{error:""}},methods:{ok:function(){Fn.http().fetch("/api/ServicePack_User_StartService",{data:{spID:this.id,siteID:this.siteid}}).then(function(t){1==t.statusCode?(this.id=!1,this.$dispatch("onPackUpdate")):2==t.statusCode?this.error="该网站已经使用过该服务包!":this.error="使用失败！"}.bind(this))},no:function(){this.id=!1}},template:"#tmpl-addin-service"})},function(t,e){Vue.component("app-window",{template:"#tmpl-app-window"})},function(t,e){Vue.component("stop-tips",{template:"#tmpl-stop-tips",data:function(){return{show:!0}},methods:{close:function(){this.show=!1,$("._5118-header").removeClass("show")},close3s:function(){setTimeout(this.show=!1,2e3)},stopServer:function(){Fn.http().start(function(){}).complete(function(t){}).fetch("/api/StopMonitorTips_Set",{data:{value:0}}).then(function(t){}.bind(this)),this.show=!1}},ready:function(){$("._5118-header").addClass("show")}})},function(t,e,i){var n,o,a;!function(i,s){o=[],n=s,a="function"==typeof n?n.apply(e,o):n,!(void 0!==a&&(t.exports=a))}(this,function(){function t(){try{return a in n&&n[a]}catch(t){return!1}}var e,i={},n=window,o=n.document,a="localStorage",s="script";if(i.disabled=!1,i.version="1.3.17",i.set=function(t,e){},i.get=function(t,e){},i.has=function(t){return void 0!==i.get(t)},i.remove=function(t){},i.clear=function(){},i.transact=function(t,e,n){null==n&&(n=e,e=null),null==e&&(e={});var o=i.get(t,e);n(o),i.set(t,o)},i.getAll=function(){},i.forEach=function(){},i.serialize=function(t){return JSON.stringify(t)},i.deserialize=function(t){if("string"!=typeof t)return void 0;try{return JSON.parse(t)}catch(e){return t||void 0}},t())e=n[a],i.set=function(t,n){return void 0===n?i.remove(t):(e.setItem(t,i.serialize(n)),n)},i.get=function(t,n){var o=i.deserialize(e.getItem(t));return void 0===o?n:o},i.remove=function(t){e.removeItem(t)},i.clear=function(){e.clear()},i.getAll=function(){var t={};return i.forEach(function(e,i){t[e]=i}),t},i.forEach=function(t){for(var n=0;n<e.length;n++){var o=e.key(n);t(o,i.get(o))}};else if(o.documentElement.addBehavior){var r,c;try{c=new ActiveXObject("htmlfile"),c.open(),c.write("<"+s+">document.w=window</"+s+'><iframe src="/favicon.ico"></iframe>'),c.close(),r=c.w.frames[0].document,e=r.createElement("div")}catch(u){e=o.createElement("div"),r=o.body}var h=function(t){return function(){var n=Array.prototype.slice.call(arguments,0);n.unshift(e),r.appendChild(e),e.addBehavior("#default#userData"),e.load(a);var o=t.apply(i,n);return r.removeChild(e),o}},d=new RegExp("[!\"#$%&'()*+,/\\\\:;<=>?@[\\]^`{|}~]","g"),p=function(t){return t.replace(/^d/,"___$&").replace(d,"___")};i.set=h(function(t,e,n){return e=p(e),void 0===n?i.remove(e):(t.setAttribute(e,i.serialize(n)),t.save(a),n)}),i.get=h(function(t,e,n){e=p(e);var o=i.deserialize(t.getAttribute(e));return void 0===o?n:o}),i.remove=h(function(t,e){e=p(e),t.removeAttribute(e),t.save(a)}),i.clear=h(function(t){var e=t.XMLDocument.documentElement.attributes;for(t.load(a);e.length;)t.removeAttribute(e[0].name);t.save(a)}),i.getAll=function(t){var e={};return i.forEach(function(t,i){e[t]=i}),e},i.forEach=h(function(t,e){for(var n,o=t.XMLDocument.documentElement.attributes,a=0;n=o[a];++a)e(n.name,i.deserialize(t.getAttribute(n.name)))})}try{var l="__storejs__";i.set(l,l),i.get(l)!=l&&(i.disabled=!0),i.remove(l)}catch(u){i.disabled=!0}return i.enabled=!i.disabled,i})},function(t,e){t.exports=Vue.extend({template:"#tmpl-app-window-alert",props:["text","func"],methods:{ok:function(){this.func&&this.func(),this.$destroy(!0)}},ready:function(){$(this.$el).next().find(":submit").focus()}})},function(t,e){t.exports=Vue.extend({template:"#tmpl-app-window-reject",props:["text","funcOk","funcNo"],methods:{ok:function(){this.funcOk&&this.funcOk(),this.$destroy(!0)},no:function(){this.funcNo&&this.funcNo(),this.$destroy(!0)}},ready:function(){$(this.$el).next().find(":submit").focus()}})},function(t,e){t.exports=Vue.extend({template:"#tmpl-app-window-warning",props:["text","func"],methods:{ok:function(){this.func&&this.func(),this.$destroy(!0)}},ready:function(){$(this.$el).next().find(":submit").focus()}})},function(t,e){t.exports=Vue.extend({template:"#tmpl-app-window-confirm",props:["text","funcOk","funcNo"],methods:{ok:function(){this.funcOk&&this.funcOk(),this.$destroy(!0)},no:function(){this.funcNo&&this.funcNo(),this.$destroy(!0)}},ready:function(){$(this.$el).next().find(":submit").focus()}})},,function(t,e){Highcharts.setOptions({lang:{numericSymbols:[null],resetZoom:"还原",resetZoomTitle:"缩放还原为 1:1",months:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],shortMonths:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"]}}),Highcharts.SparkLine=function(t,e){var n={chart:{animation:$.support.opacity===!0,renderTo:t.chart&&t.chart.renderTo||this,backgroundColor:null,borderWidth:0,type:"areaspline",margin:[10,10,10,10],style:{overflow:"visible"},skipClone:!0},title:{text:""},credits:{enabled:!1},xAxis:{labels:{enabled:!1},title:{text:null},startOnTick:!1,endOnTick:!1,tickPositions:[],lineWidth:0},yAxis:{endOnTick:!1,startOnTick:!1,labels:{enabled:!1,formatter:i()},title:{text:null},min:0,tickPositions:[]},legend:{enabled:!1},tooltip:{borderWidth:0,hideDelay:0,padding:0,crosshairs:{width:1},useHTML:!0,shared:!0,shadow:!1,backgroundColor:null,positioner:function(t,e,i){return{x:i.plotX-t/2,y:i.plotY-e}}},plotOptions:{series:{marker:{enabled:!1,states:{hover:{enabled:!1}}},lineWidth:1}}};return t=Highcharts.merge(n,t),new Highcharts.Chart(t,e)};var i=function(){return function(){var t=this.value,e=String(t).length;return 5>e?o(t):o(t/1e4)+"万"}},n=Fn.define({defaults:{chart:{resetZoomButton:{position:{x:0,y:-35}},type:"spline",marginTop:20,style:{overflow:"visible"},backgroundColor:"transparent",skipClone:!0},title:{text:""},credits:{enabled:!1},xAxis:{title:{text:null},startOnTick:!1,endOnTick:!0,showLastLabel:!1,showFirstLabel:!1},yAxis:{tickAmount:4,startOnTick:!1,labels:{enabled:!0,formatter:i()},title:{text:null},min:0},legend:{enabled:!1},tooltip:{borderWidth:0,hideDelay:0,padding:0,crosshairs:{width:1},shadow:!1,shared:!0,useHTML:!0,backgroundColor:null},plotOptions:{series:{marker:{enabled:!1,symbol:"circle",radius:2,radiusPlus:2,lineWidthPlus:2,states:{hover:{enabled:!0}}},states:{hover:{halo:{size:0}}},lineWidth:1}}},init:function(t,e){e=$.extend(!0,{},this.defaults,e||{}),this.$elem=$(t),this.$elem.highcharts(e),this.inst=this.$elem.highcharts()},showLoading:function(){return this.inst.showLoading(n.loadingUrl),this},hideLoading:function(){return this.inst&&this.inst.hideLoading(),this},dispose:function(){return this.inst&&this.inst.destroy()&&(this.inst=null),this}});n.sparkLine=function(t,e){var i,n=$(t);return n.highcharts("SparkLine",e),i=n.highcharts(),{inst:i}};var o=function(t){var e=String(t).split(".");2==e.length&&(e=String(Number(t).toFixed(2)).split("."));for(var i=e[0],n=e[1],o="";i.replace("-","").length>3;)o=","+i.slice(-3)+o,i=i.slice(0,i.length-3);return i&&(o=i+o),o+(2==e.length?"."+n:"")};t.exports=n}]);