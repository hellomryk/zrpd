!function(t){function e(n){if(i[n])return i[n].exports;var o=i[n]={exports:{},id:n,loaded:!1};return t[n].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var i={};return e.m=t,e.c=i,e.p="",e(0)}([function(t,e){window.frequencyWrapCallback=function(t,e){function i(t){setTimeout(function(){d3.select("#Frequency-chart").append("svg").attr("width",600).attr("height",470),d3.select("#Frequency-chart svg").append("pattern").attr("id","avatar2").attr("patternContentUnits","objectBoundingBox").attr("width","100%").attr("height","100%").append("image").attr("width","1").attr("height","1").attr("xlink:href",Site_INFO.resource+"/assist/images/cipin/nao-bg.png"),d3.select("#Frequency-chart svg").append("g").attr("class","water").append("circle").attr("cx",310).attr("cy",260).attr("r",260).attr("fill-opacity",1).attr("fill","url(#avatar2)"),d3.select("#Frequency-chart svg").append("g").attr("transform","translate(300,235)").selectAll("text").data(t).enter().append("text").style("border","1px solid blue").style("font-size",function(t){return t.size+"px"}).style("font-family","Impact").style("fill",function(t,e){return s(e)}).attr("text-anchor","middle").style("cursor","pointer").attr("transform",function(t){return"translate("+[t.x,t.y]+")rotate("+t.rotate+")"}).text(function(t){return t.text}).on("click",function(t,i){"site:"==Site_INFO.site_type?window.open("https://www.baidu.com/s?wd="+Site_INFO.site_type+e.content+" "+t.text+"&rn=10&pn=0#0"):(n.indexOf("naotu")>0&&window.open("http://"+o+"/seo/words/"+e.content+" "+t.text),n.indexOf("ciku")>0&&window.open("http://"+o+"/ciku/detail/"+a+"/"+t.text))}).on("mouseover",function(t,e){0!=t.count&&$("#frequency-wrap .mouseover-tips").stop().fadeIn(300).find(".keyword").text(t.text).end().find(".count").text(t.count).end().find(".percent").text((t.count/c*100).toFixed(1)+"%").end()}).on("mouseout",function(t,e){$("#frequency-wrap .mouseover-tips").hide()})},0)}if(Site_INFO.FrequencyChartData==[]||Site_INFO.FrequencyChartData.length<1)return $("#frequency-wrap .data-list").html("").html('<div style="width:100%; text-align:center; padding-top:'+($("#frequency-wrap").height()/2-100)+'px"><img src=" '+Site_INFO.resource+'/assist/images/cipin/icon-notdata.png" alt=""><br><br>暂时无法分析出词频脑图，可能是数据量太少的原因...</div>'),!1;var n=window.location.href,o=window.location.hostname;if(n.indexOf("ciku")>0){var a=n.split("/ciku/detail/")[1];a.indexOf("/")>0&&(a=a.split("/")[0])}var s=d3.scaleOrdinal(d3.schemeCategory20),r=Site_INFO.FrequencyChartData;if(r==[]||""==r)return!1;var c=0;d3.layout.cloud().size([600,400]).words(r.map(function(t){c+=t.size;var e=1,i=2,n=16;return r[0].size>r[r.length-1].size&&(Site_INFO.FrequencyChartData.length<=10&&(i=3.5,n=21),Site_INFO.FrequencyChartData.length<=20&&(i=3,n=19),Site_INFO.FrequencyChartData.length>20&&Site_INFO.FrequencyChartData.length<50&&(i=2.5,n=17),e=Math.round((t.size-r[r.length-1].size)/(r[0].size-r[r.length-1].size)*i)+1),{text:t.text,count:t.size,size:n*e}})).rotate(function(){return 40*~~(2*Math.random())}).font("Impact").fontSize(function(t){return t.size}).on("end",i).start(),$(".com-cipin").on("click",".Frequency-line-switch",function(){var t=$(".cipin-chart").width()-410;$("#Frequency-line-chart").css("width",t);var i=[],s=[];r.forEach(function(t){i.push(t.text),s.push(t.size)}),$("#Frequency-line-chart").highcharts({colors:["#0c7df5"],chart:{type:"column",backgroundColor:"rgba(0,0,0,0)"},title:{text:""},subtitle:{text:""},xAxis:{categories:i,crosshair:!0,title:{text:null},labels:{useHTML:!0,formatter:function(){return"site:"==Site_INFO.site_type?'<a href="https://www.baidu.com/s?wd='+Site_INFO.site_type+e.content+" "+this.value+'&rn=10&pn=0#0" target="_bank" class="x-write">'+this.value+"</a>":n.indexOf("naotu")>0?'<a href="http://'+o+"/seo/words/"+e.content+" "+this.value+'" target="_bank" class="x-write">'+this.value+"</a>":n.indexOf("ciku")>0?'<a href="http://'+o+"/ciku/detail/"+a+"/"+this.value+'" target="_bank" class="x-write">'+this.value+"</a>":void 0}}},yAxis:{min:0,title:{text:""}},tooltip:{headerFormat:'<span style="font-size:10px">{point.key}</span><table>',pointFormat:'<tr><td style="color:{series.color};padding:0">{series.name}: </td><td style="padding:0"><b>{point.y:.0f} </b></td></tr>',footerFormat:"</table>",shared:!0,useHTML:!0,borderColor:"#eee"},plotOptions:{series:{cursor:"pointer",events:{click:function(t){"site:"==Site_INFO.site_type?window.open("https://www.baidu.com/s?wd="+Site_INFO.site_type+e.content+" "+t.point.category+"&rn=10&pn=0#0"):(n.indexOf("naotu")>0&&window.open("http://"+o+"/seo/words/"+e.content+" "+t.point.category),n.indexOf("ciku")>0&&window.open("http://"+o+"/ciku/detail/"+a+"/"+t.point.category))}},point:{events:{mouseOver:function(){0!=this.y&&$("#frequency-wrap .mouseover-tips").stop().fadeIn(300).find(".keyword").text(this.category).end().find(".count").text(this.y).end().find(".percent").text((this.y/c*100).toFixed(1)+"%").end()},mouseOut:function(){$("#frequency-wrap .mouseover-tips").hide()}}}},column:{pointPadding:.2,borderWidth:0}},credits:{enabled:!1},series:[{name:"词频数：",data:s,showInLegend:!1}]}),setTimeout(function(){d3.select("#Frequency-line-chart svg").append("pattern").attr("id","avatar3").attr("patternContentUnits","objectBoundingBox").attr("width","100%").attr("height","100%").append("image").attr("width","1").attr("height","1").attr("xlink:href",chartWaterMark),d3.select("#Frequency-line-chart svg").append("g").attr("class","water").append("circle").attr("cx",350).attr("cy",210).attr("r",90).attr("fill-opacity",.3).attr("fill","url(#avatar3)")},0)}),$("#Frequency-line-chart").on("mouseover",".x-write",function(){for(var t="",e="",i=0;i<Site_INFO.FrequencyChartData.length;i++)Site_INFO.FrequencyChartData[i].text==$(this).text()&&(t=Site_INFO.FrequencyChartData[i].text,e=Site_INFO.FrequencyChartData[i].size);0!=e&&$("#frequency-wrap .mouseover-tips").stop().fadeIn(300).find(".keyword").text(t).end().find(".count").text(e).end()}),$("#Frequency-line-chart").on("mouseout",".x-write",function(){$("#frequency-wrap .mouseover-tips").hide()})},naotuRequireAPI("#frequency-wrap","_DetailFrequency",frequencyWrapCallback)}]);